<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>ü§ñ Implementing Game Center Features After Adding Its Plugin | Peanuts Code</title>
<meta name=keywords content="GameDev,GodotEngine,Plugin,iOS,App Store"><meta name=description content="In the previous article ü§ñ Adding Game Center Plugin to Your Project , I explained how to add the Game Center plugin from the official Godot iOS plugins to your project. In this article, I&rsquo;ll guide you on implementing the functionalities of Apple&rsquo;s Game Center using the added plugin.
If you&rsquo;re wondering what Game Center is all about, I briefly explained it in the beginning of the previous article, so you might want to check that out first.
Broadly, I&rsquo;ll explain in two main sections:
Setting Up Game Center in App Store Connect Implementing Game Center in GDScript By the way, the basic usage of plugins is documented in Godot Docs / iOS plugins / iOS plugins , so it would be reasonable to start there.
Also, you can find the code for the Game Center plugin on GitHub at Godot iOS GameCenter plugin . If you want to delve into the details, you can check it out. Personally, I found it a bit challenging at first.
Environment at the Time of Writing Godot Version: 4.2.1
Computer Model: MacBook Air M1, 2020"><meta name=author content="gobo"><link rel=canonical href=https://www.peanuts-code.com/en/tutorials/gd0022_implement_game_center/><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://www.peanuts-code.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.peanuts-code.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.peanuts-code.com/favicon-32x32.png><link rel=apple-touch-icon href=https://www.peanuts-code.com/apple-touch-icon.png><link rel=mask-icon href=https://www.peanuts-code.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=ja href=https://www.peanuts-code.com/ja/tutorials/gd0022_implement_game_center/><link rel=alternate hreflang=en href=https://www.peanuts-code.com/en/tutorials/gd0022_implement_game_center/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="ü§ñ Implementing Game Center Features After Adding Its Plugin"><meta property="og:description" content="In the previous article ü§ñ Adding Game Center Plugin to Your Project , I explained how to add the Game Center plugin from the official Godot iOS plugins to your project. In this article, I&rsquo;ll guide you on implementing the functionalities of Apple&rsquo;s Game Center using the added plugin.
If you&rsquo;re wondering what Game Center is all about, I briefly explained it in the beginning of the previous article, so you might want to check that out first.
Broadly, I&rsquo;ll explain in two main sections:
Setting Up Game Center in App Store Connect Implementing Game Center in GDScript By the way, the basic usage of plugins is documented in Godot Docs / iOS plugins / iOS plugins , so it would be reasonable to start there.
Also, you can find the code for the Game Center plugin on GitHub at Godot iOS GameCenter plugin . If you want to delve into the details, you can check it out. Personally, I found it a bit challenging at first.
Environment at the Time of Writing Godot Version: 4.2.1
Computer Model: MacBook Air M1, 2020"><meta property="og:type" content="article"><meta property="og:url" content="https://www.peanuts-code.com/en/tutorials/gd0022_implement_game_center/"><meta property="og:image" content="https://www.peanuts-code.com/images/tutorials/gd0022/13.png"><meta property="article:section" content="tutorials"><meta property="article:published_time" content="2024-05-11T00:00:00+09:00"><meta property="article:modified_time" content="2024-08-04T14:00:00+09:00"><meta property="og:site_name" content="Peanuts Code ü•ú"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.peanuts-code.com/images/tutorials/gd0022/13.png"><meta name=twitter:title content="ü§ñ Implementing Game Center Features After Adding Its Plugin"><meta name=twitter:description content="In the previous article ü§ñ Adding Game Center Plugin to Your Project , I explained how to add the Game Center plugin from the official Godot iOS plugins to your project. In this article, I&rsquo;ll guide you on implementing the functionalities of Apple&rsquo;s Game Center using the added plugin.
If you&rsquo;re wondering what Game Center is all about, I briefly explained it in the beginning of the previous article, so you might want to check that out first.
Broadly, I&rsquo;ll explain in two main sections:
Setting Up Game Center in App Store Connect Implementing Game Center in GDScript By the way, the basic usage of plugins is documented in Godot Docs / iOS plugins / iOS plugins , so it would be reasonable to start there.
Also, you can find the code for the Game Center plugin on GitHub at Godot iOS GameCenter plugin . If you want to delve into the details, you can check it out. Personally, I found it a bit challenging at first.
Environment at the Time of Writing Godot Version: 4.2.1
Computer Model: MacBook Air M1, 2020"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"ü§ñ Tutorials","item":"https://www.peanuts-code.com/en/tutorials/"},{"@type":"ListItem","position":2,"name":"ü§ñ Implementing Game Center Features After Adding Its Plugin","item":"https://www.peanuts-code.com/en/tutorials/gd0022_implement_game_center/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"ü§ñ Implementing Game Center Features After Adding Its Plugin","name":"ü§ñ Implementing Game Center Features After Adding Its Plugin","description":"In the previous article ü§ñ Adding Game Center Plugin to Your Project , I explained how to add the Game Center plugin from the official Godot iOS plugins to your project. In this article, I\u0026rsquo;ll guide you on implementing the functionalities of Apple\u0026rsquo;s Game Center using the added plugin.\nIf you\u0026rsquo;re wondering what Game Center is all about, I briefly explained it in the beginning of the previous article, so you might want to check that out first.\nBroadly, I\u0026rsquo;ll explain in two main sections:\nSetting Up Game Center in App Store Connect Implementing Game Center in GDScript By the way, the basic usage of plugins is documented in Godot Docs / iOS plugins / iOS plugins , so it would be reasonable to start there.\nAlso, you can find the code for the Game Center plugin on GitHub at Godot iOS GameCenter plugin . If you want to delve into the details, you can check it out. Personally, I found it a bit challenging at first.\nEnvironment at the Time of Writing Godot Version: 4.2.1\nComputer Model: MacBook Air M1, 2020","keywords":["GameDev","GodotEngine","Plugin","iOS","App Store"],"articleBody":"In the previous article ü§ñ Adding Game Center Plugin to Your Project , I explained how to add the Game Center plugin from the official Godot iOS plugins to your project. In this article, I‚Äôll guide you on implementing the functionalities of Apple‚Äôs Game Center using the added plugin.\nIf you‚Äôre wondering what Game Center is all about, I briefly explained it in the beginning of the previous article, so you might want to check that out first.\nBroadly, I‚Äôll explain in two main sections:\nSetting Up Game Center in App Store Connect Implementing Game Center in GDScript By the way, the basic usage of plugins is documented in Godot Docs / iOS plugins / iOS plugins , so it would be reasonable to start there.\nAlso, you can find the code for the Game Center plugin on GitHub at Godot iOS GameCenter plugin . If you want to delve into the details, you can check it out. Personally, I found it a bit challenging at first.\nEnvironment at the Time of Writing Godot Version: 4.2.1\nComputer Model: MacBook Air M1, 2020\nOS: macOS 14.4.1\nUploading Build from Xcode to App Store Connect First and foremost, you need to upload the project exported from Godot to App Store Connect via Xcode. For specific steps, refer to another article ü§ñ Distributing Your Game to the App Store from Xcode . It explains how to enable Game Center features in Xcode as well.\nSetting Up Game Center in App Store Connect Start by accessing App Store Connect and selecting the app you want to link with Game Center. Then, navigate to the Game Center section in the sidebar to open the Game Center editing page. From there, you can easily add Leaderboards and Achievements. It‚Äôs quite straightforward.\nBelow is a screenshot with Leaderboards and Achievements already added. Initially, they will be empty.\nSetting Up Leaderboards Leaderboards allow players from around the world to compete with each other through scores shared via Apple‚Äôs Game Center. Follow these steps to set up Leaderboards:\nClick the (+) button for Leaderboard. Decide on a Reference Name and Leaderboard ID. Keeping them the same is advisable. Choose between Standard Leaderboard and Periodic Leaderboard. The former retains scores indefinitely until the Leaderboard is deleted, while the latter resets scores periodically. You can set the reset interval later. Set the score format, score range, score submission type, and order. For clarity, it‚Äôs recommended to format scores as integers, set the score range from a minimum of 0 to a generous maximum, and arrange them in descending order if higher scores are better. Continue adding as many Leaderboards as needed. It‚Äôs easy. For example, setting up scores for shortest clear time or number of defeated enemies can motivate players. Feel free to brainstorm and add whatever comes to mind. You can reorder them anytime.\nSetting Up Achievements Achievements allow players to set goals during gameplay and prove their accomplishments. For instance, you can prepare achievements for defeating mid-bosses or reaching milestones in character growth, encouraging players to continue playing. Adding elements like item collection achievements or defeating a certain number of enemies can enhance the game‚Äôs longevity.\nTo add Achievements, follow these steps:\nClick the (+) button for Achievement. Input a Reference Name and Achievement ID in the opened panel, then click Create. It‚Äôs recommended to keep them consistent for clarity. Once the editing screen opens, set ‚ÄúPoints,‚Äù ‚ÄúHidden,‚Äù and ‚ÄúCan Be Earned Multiple Times‚Äù in order. Click the (?) button if you‚Äôre unsure about any settings. If you plan to create multiple achievements, remember to distribute a total of 1,000 points among them, allocating them wisely. Continue by adding localizations for each language your game supports. You don‚Äôt need different images for each language; one image per achievement is enough, meeting the specified requirements.\nOnce you‚Äôve added localizations, it will look something like this.\nPossible achievements could include ‚ÄúNumber of Clears,‚Äù ‚ÄúPlaytime,‚Äù ‚ÄúRare Items Obtained,‚Äù or ‚ÄúSkills Unlocked.‚Äù It‚Äôs advisable to list all achievements first, determine point allocations, and then proceed with the setup. Adding achievements later might require reallocating points, which can be tedious.\nCoding with the Game Center Plugin Now let‚Äôs explain how to code the Game Center features in GDScript.\nFirst, let‚Äôs create a script in the project with a name like game_center.gd. You can add it by right-clicking in the file system dock.\nYou‚Äôd want to load this script as soon as the game starts. To do that, go to Project \u003e Project Settings‚Ä¶ \u003e Autoload tab, and add the script you created. This way, the script will be loaded when the game starts.\nNext is the implementation of the crucial script. In the game_center.gd script, we‚Äôll implement the Game Center functionality. Initially, let‚Äôs declare a variable for the Game Center plugin, for example, game_center.\nextends Node # Game Center plugin var game_center = null Next, within the _ready() function, let‚Äôs add the part for getting and authenticating the plugin right after the game starts. The code would look something like this:\nfunc _ready(): if OS.get_name() == \"iOS\": if Engine.has_singleton(\"GameCenter\"): print(\"Found GameCenter plugin\") game_center = Engine.get_singleton(\"GameCenter\") var res = game_center.authenticate() print(\"Authentication: \", res) else: print(\"There is no GameCenter plugin\") First, we check if the OS is iOS using OS.get_name() to retrieve the OS name. If the OS is iOS, we also check if the GameCenter plugin exists using Engine.has_singleton(\"GameCenter\"). If the plugin is found, we retrieve it using Engine.get_singleton(\"GameCenter\") and assign it to the variable game_center. Then, we proceed with authentication by calling the built-in authenticate() function of the Game Center plugin. This function returns the authentication result, which we store in the variable res for easier debugging. So far, this sets up the groundwork for implementing Game Center functionality. Next, we‚Äôll explain the implementation of Leaderboards and Achievements functionalities, each in order.\nImplementing Leaderboards Let‚Äôs start with Leaderboards. We‚Äôll explain with a straightforward example.\nFirst, define a function to update the leaderboard. Let‚Äôs name it update_leaderboard().\nfunc update_leaderboard(score:int, category:String): print(\"call update_leaderboard()\") if not game_center: print(\"No Game Center plugin\") return if not game_center.is_authenticated(): print(\"not authenticated, authenticating again\") game_center.authenticate() var data = {\"score\": score, \"category\": category} print(\"New Leaderboard data: \", data) var res = game_center.post_score(data) print(\"Update Leaderboard response: \" + str(res)) The function takes two arguments: score:int and category:String. First, we check if the game_center variable is empty (null). If so, we exit the function. Next, if authentication hasn‚Äôt been done, we authenticate again. We prepare the data to update the leaderboard. This data includes the score and the category of the leaderboard. Then, we call the plugin‚Äôs post_score() function with the data. This updates the leaderboard. The function returns the result, which we print for debugging purposes. With update_leaderboard() defined, you can call this function at the appropriate time in your game to reflect the score.\nvar current_score : int = 0 var highscore : int = 0 func update_highscore(current_score: int): if high_score \u003c current_score: high_score = current_score update_leaderboard(high_score, \"highscore\") For instance, in a simple shooting game:\nDeclare a variable current_score to increment whenever an enemy is shot. Also declare highscore to store the highest score achieved, which will be reflected on the leaderboard. Then, consolidate the logic in the update_highscore function, which you can call at game over to handle updating both the high score and the leaderboard. These specifics will vary based on your game.\nFinally, you‚Äôd probably want to navigate to the Game Center screen within your game to check the leaderboard. Here‚Äôs a function to do just that:\nfunc show_leaderboard(): if not game_center: print(\"No Game Center plugin\") return if not game_center.is_authenticated(): print(\"not authenticated, authenticating again\") game_center.authenticate() var param := {\"view\": \"leaderboards\", \"leaderboard_name\": \"highscore\"} var res = game_center.show_game_center(param) print(\"Show Leaderboard response: \", res) When a Button node is pressed, you can call this function to transition to the Game Center leaderboard screen.\nThe function name is show_leaderboard(), and it takes no arguments. We first check if the game_center variable is empty (null). If so, we exit the function. If authentication hasn‚Äôt been done, we authenticate again. We prepare the parameters for the Game Center screen navigation. \"view\" should be set to \"leaderboards\", and \"leaderboard_name\" should be set to the name you defined in App Store Connect. Then, we call the plugin‚Äôs show_game_center() function with the parameters. The function returns the result, which we print for debugging. Implementing Achievements Next, let‚Äôs code the program related to Achievements. It‚Äôs quite similar to Leaderboards, so if you‚Äôve grasped that, you‚Äôre good. We‚Äôll keep this example simple too.\nfunc update_achievement(item_name:String, progress:float): print(\"called report_achievement()\") if not game_center: print(\"No Game Center plugin\") return if not game_center.is_authenticated(): print(\"not authenticated, authenticating again\") game_center.authenticate() var data = {\"name\": item_name, \"progress\": progress} print(\"New Achievement data: \", data) var res = game_center.award_achievement(data) print(\"Update Achievement response: \" + str(res)) The function, for example update_achievement(), takes two arguments: item_name:String and progress:float. First, we check if the game_center variable is empty (null). If so, we exit the function. If authentication hasn‚Äôt been done, we authenticate again. We prepare the data to update the achievement, including the achievement‚Äôs name and the progress (in percentage). Then, we call the plugin‚Äôs award_achievement() function with the data. This updates the achievement. The function returns the result, which we print for debugging. Then, for instance, for an achievement that requires reaching a certain play count:\nvar play_count := 0 var play_count_100 := false func update_play_count_100(): if not play_count_100: var progress = play_count / 100 * 100.0 update_achievement(\"play_count_100\", progress) if progress == 100.0: play_count_100 = true Declare a variable play_count to increment with each play. Also declare play_count_100 to track whether the achievement has been reached. Define the update_play_count_100() function to incrementally update the achievement progress each time it‚Äôs called, and if it reaches 100%, mark the achievement as completed. Achievement implementation should be good with this.\nConclusion That‚Äôs it for implementing Game Center functionality in iOS games with the Game Center plugin. Actually, the official Godot iOS plugin repository‚Äôs Readme explains how to implement, but the explanation is a bit limited and the plugin code is a bit complex, so it took me more time to implement than I anticipated. So, I hope this article serves as a helpful supplementary material.\nGame Promotion Finally, let me promote my games that actually use the Game Center plugin.\nüëπ Slashing Samurai Test your reflexes and visual acuity! Can you skillfully slice various objects falling from the sky by controlling a samurai? An addictive casual timing game that you can play with simple one-handed controls!\nüÉè Lovely Solitaire When you hear ‚ÄúSolitaire (Klondike),‚Äù you know it‚Äôs the king of solo card games, but now, the mobile game ‚ÄúLovely Solitaire‚Äù is available on the App Store!\n‚ô£Ô∏è Quick Hand Poker When it comes to popular classic casino card games, poker is a standout. However, in the mobile casual game ‚ÄúQuick Hand Poker,‚Äù it has been transformed into a puzzle game. The controls are simple‚Äîjust touch the cards as quickly as possible to form as many poker hands as you can! Available now on the App Store!\n","wordCount":"1831","inLanguage":"en","image":"https://www.peanuts-code.com/images/tutorials/gd0022/13.png","datePublished":"2024-05-11T00:00:00+09:00","dateModified":"2024-08-04T14:00:00+09:00","author":{"@type":"Person","name":"gobo"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.peanuts-code.com/en/tutorials/gd0022_implement_game_center/"},"publisher":{"@type":"Organization","name":"Peanuts Code","logo":{"@type":"ImageObject","url":"https://www.peanuts-code.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.peanuts-code.com/en/ accesskey=h title="Peanuts Code (Alt + H)"><img src=https://www.peanuts-code.com/images/logomark.png alt aria-label=logo height=35>Peanuts Code</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://www.peanuts-code.com/ja/ title=Japanese aria-label=üáØüáµÊó•Êú¨Ë™û>üáØüáµÊó•Êú¨Ë™û</a></li></ul></div></div><ul id=menu><li><a href=https://www.peanuts-code.com/en/ title=Home><span>Home</span></a></li><li><a href=https://www.peanuts-code.com/en/portfolio/ title=Works><span>Works</span></a></li><li><a href=https://www.peanuts-code.com/en/posts/ title=Blogs><span>Blogs</span></a></li><li><a href=https://www.peanuts-code.com/en/tutorials/ title=Tutorials><span>Tutorials</span></a></li><li><a href=https://www.peanuts-code.com/en/about/ title=About><span>About</span></a></li><li><a href=https://www.peanuts-code.com/en/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://www.peanuts-code.com/en/>Home</a>&nbsp;¬ª&nbsp;<a href=https://www.peanuts-code.com/en/tutorials/>ü§ñ Tutorials</a></div><h1 class="post-title entry-hint-parent">ü§ñ Implementing Game Center Features After Adding Its Plugin</h1><ul class=post-tags><li><a href=https://www.peanuts-code.com/en/tags/gamedev/>GameDev</a></li><li><a href=https://www.peanuts-code.com/en/tags/godotengine/>GodotEngine</a></li><li><a href=https://www.peanuts-code.com/en/tags/plugin/>Plugin</a></li><li><a href=https://www.peanuts-code.com/en/tags/ios/>IOS</a></li><li><a href=https://www.peanuts-code.com/en/tags/app-store/>App Store</a></li></ul><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share ü§ñ Implementing Game Center Features After Adding Its Plugin on x" href="https://x.com/intent/tweet/?text=%f0%9f%a4%96%20Implementing%20Game%20Center%20Features%20After%20Adding%20Its%20Plugin&amp;url=https%3a%2f%2fwww.peanuts-code.com%2fen%2ftutorials%2fgd0022_implement_game_center%2f&amp;hashtags=GameDev%2cGodotEngine%2cPlugin%2ciOS%2cAppStore"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share ü§ñ Implementing Game Center Features After Adding Its Plugin on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.peanuts-code.com%2fen%2ftutorials%2fgd0022_implement_game_center%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li></ul><div class=post-meta><span title='2024-05-11 00:00:00 +0900 +0900'>2024-05-11</span>&nbsp;¬∑&nbsp;9 min&nbsp;|&nbsp;Translations:<ul class=i18n_list><li><a href=https://www.peanuts-code.com/ja/tutorials/gd0022_implement_game_center/>üáØüáµÊó•Êú¨Ë™û</a></li></ul></div></header><figure class=entry-cover><img loading=eager src=https://www.peanuts-code.com/images/tutorials/gd0022/13.png alt="Implementation After Adding Game Center Plugin"></figure><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#uploading-build-from-xcode-to-app-store-connect aria-label="Uploading Build from Xcode to App Store Connect">Uploading Build from Xcode to App Store Connect</a></li><li><a href=#setting-up-game-center-in-app-store-connect aria-label="Setting Up Game Center in App Store Connect">Setting Up Game Center in App Store Connect</a><ul><li><a href=#setting-up-leaderboards aria-label="Setting Up Leaderboards">Setting Up Leaderboards</a></li><li><a href=#setting-up-achievements aria-label="Setting Up Achievements">Setting Up Achievements</a></li></ul></li><li><a href=#coding-with-the-game-center-plugin aria-label="Coding with the Game Center Plugin">Coding with the Game Center Plugin</a><ul><li><a href=#implementing-leaderboards aria-label="Implementing Leaderboards">Implementing Leaderboards</a></li><li><a href=#implementing-achievements aria-label="Implementing Achievements">Implementing Achievements</a></li></ul></li><li><a href=#conclusion aria-label=Conclusion>Conclusion</a></li><li><a href=#game-promotion aria-label="Game Promotion">Game Promotion</a><ul><li><a href=#-slashing-samurai aria-label="üëπ Slashing Samurai">üëπ Slashing Samurai</a></li><li><a href=#-lovely-solitaire aria-label="üÉè Lovely Solitaire">üÉè Lovely Solitaire</a></li><li><a href=#-quick-hand-poker aria-label="‚ô£Ô∏è Quick Hand Poker">‚ô£Ô∏è Quick Hand Poker</a></li></ul></li></ul></div></details></div><div class=post-content><p>In the previous article <a href=https://www.peanuts-code.com/en/tutorials/gd0021_game_center_plugin/>ü§ñ Adding Game Center Plugin to Your Project</a>
, I explained how to add the Game Center plugin from the official Godot iOS plugins to your project. In this article, I&rsquo;ll guide you on implementing the functionalities of Apple&rsquo;s Game Center using the added plugin.</p><p>If you&rsquo;re wondering what Game Center is all about, I briefly explained it in the beginning of the previous article, so you might want to check that out first.</p><p>Broadly, I&rsquo;ll explain in two main sections:</p><ol><li>Setting Up Game Center in App Store Connect</li><li>Implementing Game Center in GDScript</li></ol><p>By the way, the basic usage of plugins is documented in <a href=https://docs.godotengine.org/en/4.x/tutorials/platform/ios/plugins_for_ios.html target=_blank>Godot Docs / iOS plugins / iOS plugins</a>
, so it would be reasonable to start there.</p><p>Also, you can find the code for the Game Center plugin on GitHub at <a href=https://github.com/godotengine/godot-ios-plugins/blob/master/plugins/gamecenter/game_center.mm target=_blank>Godot iOS GameCenter plugin</a>
. If you want to delve into the details, you can check it out. Personally, I found it a bit challenging at first.</p><blockquote><p><strong><span style=color:salmon>Environment at the Time of Writing</span></strong><br>Godot Version: <strong>4.2.1</strong><br>Computer Model: <strong>MacBook Air M1, 2020</strong><br>OS: <strong>macOS 14.4.1</strong></p></blockquote><br><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4952908839423901" crossorigin=anonymous></script><p><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-4952908839423901 data-ad-slot=9419515863></ins></p><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><br><h2 id=uploading-build-from-xcode-to-app-store-connect>Uploading Build from Xcode to App Store Connect</h2><p>First and foremost, you need to upload the project exported from Godot to App Store Connect via Xcode. For specific steps, refer to another article <a href=https://www.peanuts-code.com/en/tutorials/gd0023_distribute_app_from_xcode/>ü§ñ Distributing Your Game to the App Store from Xcode</a>
. It explains how to enable Game Center features in Xcode as well.</p><br><h2 id=setting-up-game-center-in-app-store-connect>Setting Up Game Center in App Store Connect</h2><p>Start by accessing <a href=https://appstoreconnect.apple.com target=_blank>App Store Connect</a>
and selecting the app you want to link with Game Center. Then, navigate to the <strong>Game Center</strong> section in the sidebar to open the Game Center editing page. From there, you can easily add <strong>Leaderboards</strong> and <strong>Achievements</strong>. It&rsquo;s quite straightforward.</p><p>Below is a screenshot with Leaderboards and Achievements already added. Initially, they will be empty.<br><img loading=lazy src=/images/tutorials/gd0022/01.png alt="Game Center editing page in App Store Connect"></p><br><h3 id=setting-up-leaderboards>Setting Up Leaderboards</h3><p>Leaderboards allow players from around the world to compete with each other through scores shared via Apple&rsquo;s Game Center. Follow these steps to set up Leaderboards:</p><ol><li>Click the (+) button for <strong>Leaderboard</strong>.</li><li>Decide on a <strong>Reference Name</strong> and <strong>Leaderboard ID</strong>. Keeping them the same is advisable.</li><li>Choose between <strong>Standard Leaderboard</strong> and <strong>Periodic Leaderboard</strong>. The former retains scores indefinitely until the Leaderboard is deleted, while the latter resets scores periodically. You can set the reset interval later.</li><li>Set the score format, score range, score submission type, and order. For clarity, it&rsquo;s recommended to format scores as integers, set the score range from a minimum of 0 to a generous maximum, and arrange them in descending order if higher scores are better.</li></ol><p>Continue adding as many Leaderboards as needed. It&rsquo;s easy. For example, setting up scores for shortest clear time or number of defeated enemies can motivate players. Feel free to brainstorm and add whatever comes to mind. You can reorder them anytime.<br><img loading=lazy src=/images/tutorials/gd0022/06.png alt="Editing order of Leaderboards"></p><p><img loading=lazy src=/images/tutorials/gd0022/07.png alt="Editing panel for Leaderboard order"></p><br><h3 id=setting-up-achievements>Setting Up Achievements</h3><p>Achievements allow players to set goals during gameplay and prove their accomplishments. For instance, you can prepare achievements for defeating mid-bosses or reaching milestones in character growth, encouraging players to continue playing. Adding elements like item collection achievements or defeating a certain number of enemies can enhance the game&rsquo;s longevity.</p><p>To add Achievements, follow these steps:</p><ol><li>Click the (+) button for <strong>Achievement</strong>.</li><li>Input a <strong>Reference Name</strong> and <strong>Achievement ID</strong> in the opened panel, then click <strong>Create</strong>. It&rsquo;s recommended to keep them consistent for clarity.</li><li>Once the editing screen opens, set &ldquo;Points,&rdquo; &ldquo;Hidden,&rdquo; and &ldquo;Can Be Earned Multiple Times&rdquo; in order. Click the (?) button if you&rsquo;re unsure about any settings. If you plan to create multiple achievements, remember to distribute a total of 1,000 points among them, allocating them wisely.</li></ol><p>Continue by adding localizations for each language your game supports. You don&rsquo;t need different images for each language; one image per achievement is enough, meeting the specified requirements.</p><p>Once you&rsquo;ve added localizations, it will look something like this.<br><img loading=lazy src=/images/tutorials/gd0022/14.png alt="Achievements with added localizations"></p><p>Possible achievements could include &ldquo;Number of Clears,&rdquo; &ldquo;Playtime,&rdquo; &ldquo;Rare Items Obtained,&rdquo; or &ldquo;Skills Unlocked.&rdquo; It&rsquo;s advisable to list all achievements first, determine point allocations, and then proceed with the setup. Adding achievements later might require reallocating points, which can be tedious.</p><br><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4952908839423901" crossorigin=anonymous></script><p><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-4952908839423901 data-ad-slot=9419515863></ins></p><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><br><h2 id=coding-with-the-game-center-plugin>Coding with the Game Center Plugin</h2><p>Now let&rsquo;s explain how to code the Game Center features in GDScript.</p><p>First, let&rsquo;s create a script in the project with a name like <strong>game_center.gd</strong>. You can add it by right-clicking in the file system dock.</p><p><img loading=lazy src=/images/tutorials/gd0022/15.png alt="Add script to project"></p><p>You&rsquo;d want to load this script as soon as the game starts. To do that, go to <strong>Project</strong> > <strong>Project Settings&mldr;</strong> > <strong>Autoload</strong> tab, and add the script you created. This way, the script will be loaded when the game starts.</p><p><img loading=lazy src=/images/tutorials/gd0022/16.png alt="Add script to Autoload"></p><p>Next is the implementation of the crucial script. In the <strong>game_center.gd</strong> script, we&rsquo;ll implement the Game Center functionality. Initially, let&rsquo;s declare a variable for the Game Center plugin, for example, <code>game_center</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-GDScript data-lang=GDScript><span class=line><span class=cl><span class=kd>extends</span> <span class=nc>Node</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Game Center plugin</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=n>game_center</span> <span class=o>=</span> <span class=kt>null</span>
</span></span></code></pre></div><p>Next, within the <code>_ready()</code> function, let&rsquo;s add the part for getting and authenticating the plugin right after the game starts. The code would look something like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-GDScript data-lang=GDScript><span class=line><span class=cl><span class=kd>func</span> <span class=nf>_ready</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nc>OS</span><span class=o>.</span><span class=nf>get_name</span><span class=p>()</span> <span class=o>==</span> <span class=s2>&#34;iOS&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=nc>Engine</span><span class=o>.</span><span class=nf>has_singleton</span><span class=p>(</span><span class=s2>&#34;GameCenter&#34;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Found GameCenter plugin&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>game_center</span> <span class=o>=</span> <span class=nc>Engine</span><span class=o>.</span><span class=nf>get_singleton</span><span class=p>(</span><span class=s2>&#34;GameCenter&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=kd>var</span> <span class=n>res</span> <span class=o>=</span> <span class=n>game_center</span><span class=o>.</span><span class=nf>authenticate</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Authentication: &#34;</span><span class=p>,</span> <span class=n>res</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;There is no GameCenter plugin&#34;</span><span class=p>)</span>
</span></span></code></pre></div><ol><li>First, we check if the OS is <strong>iOS</strong> using <code>OS.get_name()</code> to retrieve the OS name.</li><li>If the OS is <strong>iOS</strong>, we also check if the GameCenter plugin exists using <code>Engine.has_singleton("GameCenter")</code>.</li><li>If the plugin is found, we retrieve it using <code>Engine.get_singleton("GameCenter")</code> and assign it to the variable <code>game_center</code>.</li><li>Then, we proceed with authentication by calling the built-in <code>authenticate()</code> function of the Game Center plugin. This function returns the authentication result, which we store in the variable <code>res</code> for easier debugging.</li></ol><p>So far, this sets up the groundwork for implementing Game Center functionality. Next, we&rsquo;ll explain the implementation of <strong>Leaderboards</strong> and <strong>Achievements</strong> functionalities, each in order.</p><br><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4952908839423901" crossorigin=anonymous></script><p><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-4952908839423901 data-ad-slot=9419515863></ins></p><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><br><h3 id=implementing-leaderboards>Implementing Leaderboards</h3><p>Let&rsquo;s start with <strong>Leaderboards</strong>. We&rsquo;ll explain with a straightforward example.</p><p>First, define a function to update the leaderboard. Let&rsquo;s name it <code>update_leaderboard()</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-GDScript data-lang=GDScript><span class=line><span class=cl><span class=kd>func</span> <span class=nf>update_leaderboard</span><span class=p>(</span><span class=n>score</span><span class=p>:</span><span class=kt>int</span><span class=p>,</span> <span class=n>category</span><span class=p>:</span><span class=nc>String</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;call update_leaderboard()&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=ow>not</span> <span class=n>game_center</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;No Game Center plugin&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=ow>not</span> <span class=n>game_center</span><span class=o>.</span><span class=nf>is_authenticated</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;not authenticated, authenticating again&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>game_center</span><span class=o>.</span><span class=nf>authenticate</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=n>data</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;score&#34;</span><span class=p>:</span> <span class=n>score</span><span class=p>,</span> <span class=s2>&#34;category&#34;</span><span class=p>:</span> <span class=n>category</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;New Leaderboard data: &#34;</span><span class=p>,</span> <span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=n>res</span> <span class=o>=</span> <span class=n>game_center</span><span class=o>.</span><span class=nf>post_score</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Update Leaderboard response: &#34;</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>res</span><span class=p>))</span>
</span></span></code></pre></div><ol><li>The function takes two arguments: <code>score:int</code> and <code>category:String</code>.</li><li>First, we check if the <code>game_center</code> variable is empty (<code>null</code>). If so, we exit the function.</li><li>Next, if authentication hasn&rsquo;t been done, we authenticate again.</li><li>We prepare the data to update the leaderboard. This data includes the score and the category of the leaderboard.</li><li>Then, we call the plugin&rsquo;s <code>post_score()</code> function with the data. This updates the leaderboard. The function returns the result, which we print for debugging purposes.</li></ol><p>With <code>update_leaderboard()</code> defined, you can call this function at the appropriate time in your game to reflect the score.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-GDScript data-lang=GDScript><span class=line><span class=cl><span class=kd>var</span> <span class=n>current_score</span> <span class=p>:</span> <span class=kt>int</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=n>highscore</span> <span class=p>:</span> <span class=kt>int</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>update_highscore</span><span class=p>(</span><span class=n>current_score</span><span class=p>:</span> <span class=kt>int</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>high_score</span> <span class=o>&lt;</span> <span class=n>current_score</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>high_score</span> <span class=o>=</span> <span class=n>current_score</span>
</span></span><span class=line><span class=cl>        <span class=nf>update_leaderboard</span><span class=p>(</span><span class=n>high_score</span><span class=p>,</span> <span class=s2>&#34;highscore&#34;</span><span class=p>)</span>
</span></span></code></pre></div><p>For instance, in a simple shooting game:</p><ol><li>Declare a variable <code>current_score</code> to increment whenever an enemy is shot.</li><li>Also declare <code>highscore</code> to store the highest score achieved, which will be reflected on the leaderboard.</li><li>Then, consolidate the logic in the <code>update_highscore</code> function, which you can call at game over to handle updating both the high score and the leaderboard.</li></ol><p>These specifics will vary based on your game.</p><p>Finally, you&rsquo;d probably want to navigate to the Game Center screen within your game to check the leaderboard. Here&rsquo;s a function to do just that:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-GDScript data-lang=GDScript><span class=line><span class=cl><span class=kd>func</span> <span class=nf>show_leaderboard</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=ow>not</span> <span class=n>game_center</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;No Game Center plugin&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=ow>not</span> <span class=n>game_center</span><span class=o>.</span><span class=nf>is_authenticated</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;not authenticated, authenticating again&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>game_center</span><span class=o>.</span><span class=nf>authenticate</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=n>param</span> <span class=o>:=</span> <span class=p>{</span><span class=s2>&#34;view&#34;</span><span class=p>:</span> <span class=s2>&#34;leaderboards&#34;</span><span class=p>,</span> <span class=s2>&#34;leaderboard_name&#34;</span><span class=p>:</span> <span class=s2>&#34;highscore&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=n>res</span> <span class=o>=</span> <span class=n>game_center</span><span class=o>.</span><span class=nf>show_game_center</span><span class=p>(</span><span class=n>param</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Show Leaderboard response: &#34;</span><span class=p>,</span> <span class=n>res</span><span class=p>)</span>
</span></span></code></pre></div><p>When a Button node is pressed, you can call this function to transition to the Game Center leaderboard screen.</p><ol><li>The function name is <code>show_leaderboard()</code>, and it takes no arguments.</li><li>We first check if the <code>game_center</code> variable is empty (<code>null</code>). If so, we exit the function.</li><li>If authentication hasn&rsquo;t been done, we authenticate again.</li><li>We prepare the parameters for the Game Center screen navigation. <code>"view"</code> should be set to <code>"leaderboards"</code>, and <code>"leaderboard_name"</code> should be set to the name you defined in App Store Connect.</li><li>Then, we call the plugin&rsquo;s <code>show_game_center()</code> function with the parameters. The function returns the result, which we print for debugging.</li></ol><br><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4952908839423901" crossorigin=anonymous></script><p><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-4952908839423901 data-ad-slot=9419515863></ins></p><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><br><h3 id=implementing-achievements>Implementing Achievements</h3><p>Next, let&rsquo;s code the program related to <strong>Achievements</strong>. It&rsquo;s quite similar to Leaderboards, so if you&rsquo;ve grasped that, you&rsquo;re good. We&rsquo;ll keep this example simple too.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-GDScript data-lang=GDScript><span class=line><span class=cl><span class=kd>func</span> <span class=nf>update_achievement</span><span class=p>(</span><span class=n>item_name</span><span class=p>:</span><span class=nc>String</span><span class=p>,</span> <span class=n>progress</span><span class=p>:</span><span class=kt>float</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;called report_achievement()&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=ow>not</span> <span class=n>game_center</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;No Game Center plugin&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=ow>not</span> <span class=n>game_center</span><span class=o>.</span><span class=nf>is_authenticated</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;not authenticated, authenticating again&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>game_center</span><span class=o>.</span><span class=nf>authenticate</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=n>data</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;name&#34;</span><span class=p>:</span> <span class=n>item_name</span><span class=p>,</span> <span class=s2>&#34;progress&#34;</span><span class=p>:</span> <span class=n>progress</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;New Achievement data: &#34;</span><span class=p>,</span> <span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=n>res</span> <span class=o>=</span> <span class=n>game_center</span><span class=o>.</span><span class=nf>award_achievement</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Update Achievement response: &#34;</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>res</span><span class=p>))</span>
</span></span></code></pre></div><ol><li>The function, for example <code>update_achievement()</code>, takes two arguments: <code>item_name:String</code> and <code>progress:float</code>.</li><li>First, we check if the <code>game_center</code> variable is empty (<code>null</code>). If so, we exit the function.</li><li>If authentication hasn&rsquo;t been done, we authenticate again.</li><li>We prepare the data to update the achievement, including the achievement&rsquo;s name and the progress (in percentage).</li><li>Then, we call the plugin&rsquo;s <code>award_achievement()</code> function with the data. This updates the achievement. The function returns the result, which we print for debugging.</li></ol><p>Then, for instance, for an achievement that requires reaching a certain play count:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-GDScript data-lang=GDScript><span class=line><span class=cl><span class=kd>var</span> <span class=n>play_count</span> <span class=o>:=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=n>play_count_100</span> <span class=o>:=</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>update_play_count_100</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=ow>not</span> <span class=n>play_count_100</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=kd>var</span> <span class=n>progress</span> <span class=o>=</span> <span class=n>play_count</span> <span class=o>/</span> <span class=mi>100</span> <span class=o>*</span> <span class=mf>100.0</span>
</span></span><span class=line><span class=cl>        <span class=nf>update_achievement</span><span class=p>(</span><span class=s2>&#34;play_count_100&#34;</span><span class=p>,</span> <span class=n>progress</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>progress</span> <span class=o>==</span> <span class=mf>100.0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>play_count_100</span> <span class=o>=</span> <span class=kc>true</span>
</span></span></code></pre></div><ol><li>Declare a variable <code>play_count</code> to increment with each play.</li><li>Also declare <code>play_count_100</code> to track whether the achievement has been reached.</li><li>Define the <code>update_play_count_100()</code> function to incrementally update the achievement progress each time it&rsquo;s called, and if it reaches 100%, mark the achievement as completed.</li></ol><p>Achievement implementation should be good with this.</p><br><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4952908839423901" crossorigin=anonymous></script><p><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-4952908839423901 data-ad-slot=9419515863></ins></p><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><br><h2 id=conclusion>Conclusion</h2><p>That&rsquo;s it for implementing Game Center functionality in iOS games with the Game Center plugin. Actually, the official Godot iOS plugin repository&rsquo;s Readme explains how to implement, but the explanation is a bit limited and the plugin code is a bit complex, so it took me more time to implement than I anticipated. So, I hope this article serves as a helpful supplementary material.</p><br><h2 id=game-promotion>Game Promotion</h2><p>Finally, let me promote my games that actually use the Game Center plugin.</p><h3 id=-slashing-samurai>üëπ Slashing Samurai</h3><p>Test your reflexes and visual acuity! Can you skillfully slice various objects falling from the sky by controlling a samurai? An addictive casual timing game that you can play with simple one-handed controls!</p><figure><a href=https://apps.apple.com/jp/app/slashing-samurai/id6473121142><img loading=lazy src=/images/portfolio/slashing_samurai/app_icon/icon.png width=150px></a></figure><h3 id=-lovely-solitaire>üÉè Lovely Solitaire</h3><p>When you hear &ldquo;Solitaire (Klondike),&rdquo; you know it&rsquo;s the king of solo card games, but now, the mobile game &ldquo;Lovely Solitaire&rdquo; is available on the App Store!</p><figure><a href=https://apps.apple.com/jp/app/%E3%82%B9%E3%83%86%E3%82%AD%E3%81%AA%E3%82%BD%E3%83%AA%E3%83%86%E3%82%A3%E3%82%A2/id6479584244><img loading=lazy src=/images/portfolio/lovely_solitaire/app_icon/app_icon.png width=150px></a></figure><h3 id=-quick-hand-poker>‚ô£Ô∏è Quick Hand Poker</h3><p>When it comes to popular classic casino card games, poker is a standout. However, in the mobile casual game &ldquo;Quick Hand Poker,&rdquo; it has been transformed into a puzzle game. The controls are simple‚Äîjust touch the cards as quickly as possible to form as many poker hands as you can! Available now on the App Store!</p><figure><a href=https://apps.apple.com/jp/app/%E3%82%AF%E3%82%A4%E3%83%83%E3%82%AF%E3%83%8F%E3%83%B3%E3%83%89%E3%83%9D%E3%83%BC%E3%82%AB%E3%83%BC/id6504597253><img loading=lazy src=/images/portfolio/quick_hand_poker/app_icon/app_icon.png width=150px></a></figure></div><footer class=post-footer><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share ü§ñ Implementing Game Center Features After Adding Its Plugin on x" href="https://x.com/intent/tweet/?text=%f0%9f%a4%96%20Implementing%20Game%20Center%20Features%20After%20Adding%20Its%20Plugin&amp;url=https%3a%2f%2fwww.peanuts-code.com%2fen%2ftutorials%2fgd0022_implement_game_center%2f&amp;hashtags=GameDev%2cGodotEngine%2cPlugin%2ciOS%2cAppStore"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share ü§ñ Implementing Game Center Features After Adding Its Plugin on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.peanuts-code.com%2fen%2ftutorials%2fgd0022_implement_game_center%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li></ul><ul class=post-tags><li><a href=https://www.peanuts-code.com/en/tags/gamedev/>GameDev</a></li><li><a href=https://www.peanuts-code.com/en/tags/godotengine/>GodotEngine</a></li><li><a href=https://www.peanuts-code.com/en/tags/plugin/>Plugin</a></li><li><a href=https://www.peanuts-code.com/en/tags/ios/>IOS</a></li><li><a href=https://www.peanuts-code.com/en/tags/app-store/>App Store</a></li></ul><nav class=paginav><a class=prev href=https://www.peanuts-code.com/en/tutorials/gd0023_distribute_app_from_xcode/><span class=title>¬´ Prev</span><br><span>ü§ñ Distributing Games from Xcode to App Store Connect</span>
</a><a class=next href=https://www.peanuts-code.com/en/tutorials/gd0021_game_center_plugin/><span class=title>Next ¬ª</span><br><span>ü§ñ Adding a Game Center Plugin to Your Project</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://www.peanuts-code.com/en/>Peanuts Code</a></span> ¬∑
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>