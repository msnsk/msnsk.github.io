<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Homing Missiles in Godot3 | Peanuts Code</title>
<meta name="keywords" content="GodotEngine, GameDev, Godot3, 2D, Top-down, Shooter, HomingMissile" />
<meta name="description" content="In this tutorial, we will create a homing missile in a 2D top-down shooter. A homing missile is a missile that tracks its target. Environment This tutorial was created in the following environment ・Godot version: 3.4.2 ・Computer OS version: macOS 11.6.5 To focus on the creation of the homing missile, the rest of the project has been pre-created in advance. The project file for this tutorial is located at GitHub repository . After downloading the .zip file, import the &ldquo;project.godot&rdquo; file in the &ldquo;Start&rdquo; folder into the">
<meta name="author" content="Gobo">
<link rel="canonical" href="https://www.peanuts-code.com/en/tutorials/gd0008_homing_missiles/" />
<meta name="google-site-verification" content="XYZabc" />
<meta name="yandex-verification" content="XYZabc" />
<meta name="msvalidate.01" content="XYZabc" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.css" rel="preload stylesheet" as="style">
<link rel="preload" href="/images/logomark.png" as="image">
<link rel="icon" href="https://www.peanuts-code.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.peanuts-code.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.peanuts-code.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://www.peanuts-code.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://www.peanuts-code.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.104.2" />
<link rel="alternate" hreflang="ja" href="https://www.peanuts-code.com/ja/tutorials/gd0008_homing_missiles/" />
<link rel="alternate" hreflang="en" href="https://www.peanuts-code.com/en/tutorials/gd0008_homing_missiles/" />

<script async src="https://www.googletagmanager.com/gtag/js?id=G-DK0NK2RTTW"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-DK0NK2RTTW', { 'anonymize_ip': false });
}
</script>
<meta property="og:title" content="Homing Missiles in Godot3" />
<meta property="og:description" content="In this tutorial, we will create a homing missile in a 2D top-down shooter. A homing missile is a missile that tracks its target. Environment This tutorial was created in the following environment ・Godot version: 3.4.2 ・Computer OS version: macOS 11.6.5 To focus on the creation of the homing missile, the rest of the project has been pre-created in advance. The project file for this tutorial is located at GitHub repository . After downloading the .zip file, import the &ldquo;project.godot&rdquo; file in the &ldquo;Start&rdquo; folder into the" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.peanuts-code.com/en/tutorials/gd0008_homing_missiles/" />
<meta property="og:image" content="https://www.peanuts-code.com/images/tutorials/gd0008_homing_missiles/img25.gif" /><meta property="article:section" content="tutorials" />
<meta property="article:published_time" content="2022-05-28T18:41:00&#43;09:00" />
<meta property="article:modified_time" content="2022-05-28T18:41:00&#43;09:00" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://www.peanuts-code.com/images/tutorials/gd0008_homing_missiles/img25.gif" />
<meta name="twitter:title" content="Homing Missiles in Godot3"/>
<meta name="twitter:description" content="In this tutorial, we will create a homing missile in a 2D top-down shooter. A homing missile is a missile that tracks its target. Environment This tutorial was created in the following environment ・Godot version: 3.4.2 ・Computer OS version: macOS 11.6.5 To focus on the creation of the homing missile, the rest of the project has been pre-created in advance. The project file for this tutorial is located at GitHub repository . After downloading the .zip file, import the &ldquo;project.godot&rdquo; file in the &ldquo;Start&rdquo; folder into the"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Tutorials",
      "item": "https://www.peanuts-code.com/en/tutorials/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Homing Missiles in Godot3",
      "item": "https://www.peanuts-code.com/en/tutorials/gd0008_homing_missiles/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Homing Missiles in Godot3",
  "name": "Homing Missiles in Godot3",
  "description": "In this tutorial, we will create a homing missile in a 2D top-down shooter. A homing missile is a missile that tracks its target. Environment This tutorial was created in the following environment ・Godot version: 3.4.2 ・Computer OS version: macOS 11.6.5 To focus on the creation of the homing missile, the rest of the project has been pre-created in advance. The project file for this tutorial is located at GitHub repository . After downloading the .zip file, import the \u0026ldquo;project.godot\u0026rdquo; file in the \u0026ldquo;Start\u0026rdquo; folder into the",
  "keywords": [
    "GodotEngine", "GameDev", "Godot3", "2D", "Top-down", "Shooter", "HomingMissile"
  ],
  "articleBody": "In this tutorial, we will create a homing missile in a 2D top-down shooter. A homing missile is a missile that tracks its target.\nEnvironment This tutorial was created in the following environment\n・Godot version: 3.4.2\n・Computer OS version: macOS 11.6.5\nTo focus on the creation of the homing missile, the rest of the project has been pre-created in advance.\nThe project file for this tutorial is located at GitHub repository . After downloading the .zip file, import the “project.godot” file in the “Start” folder into the Godot Engine, and you can start the project with only the preliminary work completed. If you would like to see the completed project in a hurry, import the “project.godot” file from the “End” folder.\nAll the assets imported into the project were downloaded from KENNEY website. I used an asset pack called Tower Defense (top-down) . I just want to thank them for making such a great asset pack available to the public.\nPreliminary Preparation The following game specifications, except for the homing missile part, which is listed as (planned), have already been prepared as a preliminary.\nPlayer Character (Fighter): The following keys can be used. move_up: W key - the player character moves up. move_down: S key - the player character moves down. move_right: D key - moves the player character to the right. move_left: A key - moves the player character left. magic: Spacebar or left mouse button - fires the machine gun. Bullets of the machine gun disappear when they hit the enemy character’s tank and the homing missiles it fires. Bullets of the machine gun disappear when they go off-screen. Enemy characters (tanks): Up to 5 tanks appear on the game screen. When there are no tanks left, 5 new tanks will be created. They always move toward the player character. When the player gets close to a certain distance, they will fire homing missiles (planned). The homing missiles will disappear when the player character or the machine gun is hit by a bullet (planned). HUD: A simple HUD (Heads Up Display) with only Life and Score displayed in the upper left corner. Life: Number of remaining lives of the player character (up to 5). If the player’s plane is hit by a homing missile from a tank, it will be reduced by 1. When it reaches 0, the game is over (debug panel will close). Score: Enemy character’s life (max 3) is reduced by 1 when the tank is hit by a machine gun round, and 1 point is added when it reaches 0 and the tank is destroyed. Making a homing missile Creating a scene First, follow the steps below to create a scene for a homing missile.\nselect “Scene” menu \u003e “New Scene”. Select “Other Node” in “Generate Root Node”. Select a node of “Area2D” class as a root node. Rename the root node “Area2D” to “Missile”. Save the scene here once, and set the file path to “res://Enemy/Missile.tscn”. Next, add child nodes to the root node “Missile”.\nadd a node of “Sprite” class to the root node “Missile”. This is the appearance of a missile. Add a node of the “CollisionShape2D” class to the root node “Missile. This is used to detect the collision of the missile with the player’s plane and the machine gun projectile it fired. Add a node of the “Timer” class to the root node “Missile”. This is to release the missile instance after a certain period of time. The scene tree should now look like the following.\nEditing node properties Let’s edit the properties of each node in the scene tree in the inspector.\nMissile (Area2D) Root node Edit the “Collision” \u003e “Layer” property and “Collision” \u003e “Mask” property of the “CollisionObject2D” class.\nThe “Layer” property allows you to set which collision layer the object (in this case, the “Missile” node) will be assigned to.\nThe “Mask” property allows you to set which collision layer the object will enable collisions with objects in that layer. In other words, objects in layers not selected by the “Mask” property will pass through each other without colliding, even if their positions overlap.\nFor example, a homing missile will pass through without collision with an enemy character’s tank, but collisions with the player character or machine gun bullets must be detected. Since the player character’s plane is flying over the tank, collisions with the tank are ignored, while collisions with homing missiles need to be detected.\nTo make it easier to understand which object is assigned to which collision layer, I have already named the collision layers to be used by following the steps below.\nopen the “Project” menu \u003e “Project Settings Select “Layer Names” \u003e “2d Physics” from the sidebar. Set the names of Layers 1 to 4 as follows. Layer 1: Player Layer 2: Enemies Layer 3: PlayerBullets Layer 4: EnemyMissiles\nThe “Layer” and “Mask” properties of the player character, machine gun bullets, and enemy characters have already been set as follows, according to the collision layer names above.\nPlayer Character: Player.tscn scene \u003e Player (KinematicBody2D) root node Layer properties: Layer 1 Mask property: Layer 4 (detects collisions with missiles)\nEnemy character: Enemy.tscn scene \u003e Enemy (KinematicBody2D) root node Layer property: Layer 2 Mask property: Layer 2, 3 (detects collisions with other tanks and machine gun bullets)\nMachine gun bullet: Bullet.tscn scene \u003e Bullet (Area2D) root node Layer property: Layer 3 Mask property: Layer 2, 4 (detects collisions between tanks and homing missiles)\nAnd I would like you to set up the homing missile you are editing now as well, as follows\nHoming missile: Missile.tscn \u003e Missile (Area2D) root node Layer property: Layer 4 Mask property: Layer 1, 3 (detects collisions between planes and machine gun bullets)\nOnce we have edited the properties of the root node “Missile”, we should incidentally add this node by creating a group called “Missiles”. This is used to determine whether a missile is a missile or not when a machine gun bullet hits a missile.\nselect “Missile” in the scene tree dock open the node dock \u003e group tab and add the group “Missiles”.\nSprite Node The method of setting a texture for a sprite by specifying the range of textures you want to use from a single sprite sheet that contains many textures is used.\nIn the inspector, apply the resource file “res://towerDefense_tilesheet.png” to the “Texture” property.\nTurn on “Region” \u003e “Enabled”.\nopen the “Texture Region” panel at the bottom of the editor and specify the region of the texture you want to use in the sprite sheet.\nFirst, expand the panel to the top of the editor so that it is easy to see, and then enlarge the sprite sheet to a size that is easy to see.\nselect “Grid Snap” in “Snap Mode” at the top of the “Texture Region” panel.\nset the “step” at the top of the panel to 64px 64px as well. This will make the grid the same size as the sprites on the sprite sheet.\nselect the texture of the larger missile on the sprite sheet.\nReturn to the inspector and set the “Transform” \u003e “Rotation” property to 90.\nThis will rotate the texture by 90°. Since the object’s normal orientation is 0° along the positive x-axis and the missile’s direction of travel is based on this, the sprite’s orientation was adjusted accordingly.\nCollisionShape2D node This node sets the collision shape of the homing missile. It is required to determine the collision between the missile and the player character, and the system will alert you if a child node that sets the collision shape has not been added to the “Area2D” class node.\nIn the inspector, apply the “New CapsuleShape2D” resource to the “Shape” property.\nIn the 2D workspace, match the collision shape to the size of the “Sprite” node texture.\nIf you want to enter directly in the inspector, set the properties of the “CapsuleShape2D” resource as follows Set the “Radius” property to 8. Set the “Height” property to 24.\nTimer node This node is a timer for homing missiles to self-destruct after a certain amount of time. If missiles continue to exist in the game indefinitely, the number of missiles will grow and the computer will run out of memory to handle them. To avoid this, the system is designed to release instances when the time expires. For missiles that fly in a straight line, it is possible to use the signal of the “VisibilityNotifier2D” node to release instances when they go off the screen, but for homing missiles that track the player character, a timer is more appropriate.\nIn the inspector, set the “Wait Time” property to 3. This is the effective time of the missile. You can tweak it to your liking, but be aware that if it is too long, there will be too many missiles at the same time, which will consume too much memory. Turn on the “One Shot” property. Turn on the “Auto Start” property.\nThis completes the property editing for each node.\nControlling it with a script Next, we will create a script to control the missile. We want you to attach a new script to the root node “Missile”. The file path should be created as “res://Enemy/Missile.gd”.\nFirst, edit the “Missile.gd” script as follows.\n### Missile.gd ### extends Node2D # Missile speed export var speed = 400 # Velocity of the missile var velocity = Vector2() # Physics process func _physics_process(delta): # velocity = current orientation x speed velocity = transform.x * speed # Update position: current position + velocity x delta (seconds per frame) position += velocity * delta # Update orientation: match current velocity rotation = velocity.angle() Now, the missile should fly straight for the time being. Let’s run the scene and check it out.\nCan you see the missile flying from left to right across the top portion of the GIF image?\nNext, we will add the motion to track the player character to the script. First, let’s define some necessary properties. In the following code, please add the commented “# Add”.\n### Missile.gd ### extends Node2D export var speed = 400 # Add: the ability to steer in the direction the player is in. # The higher the value, the quicker the direction correction export var steering_force = 20.0 var velocity = Vector2() # Add: acceleration var acceleration = Vector2() # Reference to the target Player object (as soon as detected) var target = null Next, define the method by which the missile will steer toward the player character (correct its trajectory).\n### Missile.gd ### # method to steer the missile towards the player character func steer(): # Define as velocity to steer var steering = Vector2() # Define ideal velocity (direction x speed towards player character from current position) var ideal_velocity = (target.position - position).normalized() * speed # speed to steer = direction vector obtained by ideal_velocity - current_velocity x force to steer steering = (ideal_velocity - velocity).normalized() * steering_force # output velocity to steer return steering Since it may be difficult to visualize from the comments on the code alone, I will supplement this with a diagram.\nWhen the homing missile detects the player character’s plane, it will track it as a target. The ideal velocity is the variable ideal_velocity, assuming that the missile could travel in a straight line in the direction of the target. In reality, however, the missile is flying in the direction that the property velocity has, and we want to steer it toward ideal_velocity to correct its trajectory.\nThat’s where the vector calculation comes in. If we take the vector ideal_velocity minus velocity and turn it into a direction vector (a vector of length 1) using the method normalized. Then, multiply it by the value of the property steering_force, which is the force to steer, the value of the variable steering is determined, which is the velocity to steer.\nNow, let’s use the value of the variable steering output by the method steer to modify the missile so that it flies while correcting its trajectory. Please add the comment “# Add” to the method _physics_process.\n### Missile.gd ### func _physics_process(delta): velocity = transform.x * speed # Add: add velocity to steer to acceleration acceleration += steer() # Add: add the velocity plus the acceleration x delta value to the velocity velocity += acceleration * delta # Add: limit the length of the velocity vector so that it does not exceed the speed velocity = velocity.clamped(speed) position += velocity * delta rotation = velocity.angle() This should have implemented the movement of the homing missile tracking the player character.\nLet’s continue by adding a program for when the missile hits the player character or the machine gun projectile. For this, we will use the signal of the Area2D class of the root node “Missile”.\nNow, after selecting “Missile” in the scene tree dock, go to the node dock \u003e Signal tab and connect the signal “body_entered(body: Node)” to this “Missile.gd” script.\nAfter connecting, edit the automatically generated method _on_Missile_body_entered as follows.\n### Missile.gd ### # Method called by the signal sent when the physical body is hit by a missile func _on_Missile_body_entered(body): # If the physical body is the player character if body.name == \"Player\": print(\"Missile hit \", body.name) # Play the animation \"hit\" of the AnimationPlayer in the Player scene body.anim_player.play(\"hit\") # Emit the signal player_hit for the Player node body.emit_signal(\"player_hit\") # If the Player's Life is greater than 1, set it to -1 if body.life \u003e 1: body.life -= 1 # if the Player's Life is less than 1 else: # wait for animation hit to finish playing yield(body.anim_player, \"animation_finished\") # release the Player object body.queue_free() print(\"Game Over!\") # Close debug panel and exit get_tree().quit() # release the missile itself queue_free() Now, when a missile hits the player character’s plane, it animates (flashes red) and the player’s Life is reduced by one, and the game is over when there are no more than 0 planes left.\nThe next step is to create a mechanism to release the missile when the time expires using the timer in the “Timer” node. This also uses the signal of the “Timer” node. Now, select “Timer” in the scene tree dock, and connect the signal “timeout()” to the script.\nIn the block of the method _on_Timer_timeout generated by the connection, simply add the method queue_free.\n### Missile.gd ### func _on_Timer_timeout(): queue_free() The missile is now complete.\nMaking the enemy character launch a homing missile The next step is for the “Enemy.tscn” scene to create an instance of the “Missile.tscn” scene that we just created, so that the enemy character’s tank fires homing missiles.\nEditing and controlling the script Let’s open and edit the “Enemy.gd” script attached to the root node “Enemy” in the “Enemy.tscn” scene.\nFirst, let’s preload the missile scene file. At the beginning of the script, define constants for references. You will see the comment “# Add”.\n### Enemy.gd ### extends KinematicBody2D signal enemy_killed # Add: reference to preloaded Missile.tscn scene file const missile_scn = preload(\"res://Enemy/Missile.tscn\") Next, since the block of the method _on_Timer_timeout contains only pass, please update it as follows. Incidentally, this method was generated by connecting the signal “timeout()” of the “LaunchTimer” node (Timer class). In other words, this method is called every time the timer times out.\n### Enemy.gd ### # Method called by a signal sent out when a LaunchTimer node times out func _on_LaunchTimer_timeout(): # If the parent node (World) has a node named Player if get_parent().has_node(\"Player\"): # call the method to launch the missile launch_missile() Please insert the following code defining the method launch_missile, which is described at the end of the above code, after the above _on_LaunchTimer_timeout.\n### Enemy.gd ### # Method to launch a missile func launch_missile(): # Instantiate the Missile.tscn scene var missile = missile_scn.instance() # Assign the Player object to Missile's target property missile.target = get_parent().get_node(\"Player\") # Add a missile instance to the parent node (World) get_parent().add_child(missile) # Align the missile with the tip of the tank's cannon missile.position = muzzle.global_position # Align the direction of the missile with the direction of the tip of the tank's cannon missile.rotation = muzzle.global_rotation The missile should now be able to be launched. Let’s run the project to see if the implementation so far works without problem.\nExtra: Adding visual effects For visual effect, we have prepared explosion particles when the missile hits and smoke particles coming out from behind the missile in the preliminary stage. Let’s use these by adding code to the “Missile.gd” script to give the missile a more visually appealing performance.\nAfter opening the “Missile.gd” script, add the line “# Add” to the code.\n### Missile.gd ### # Add: See preloading Smoke.tscn (scene with only smoke particles) const smoke_scn = preload(\"res://Effect/Smoke.tscn\") # Add: Preload reference to Explosion.tscn (scene with only explosion particles) const explosion_scn = preload(\"res://Effect/Explosion.tscn\") export var speed = 400 export var steering_force = 20.0 var velocity = Vector2() var acceleration = Vector2() var target = null # Add: count to space out the smoke var smoke_count = 0 Next, call the method that produces the smoke within the _physics_process method.\n### Missile.gd ### func _physics_process(delta): velocity = transform.x * speed acceleration += steer() velocity += acceleration * delta velocity = velocity.clamped(speed) position += velocity * delta rotation = velocity.angle() # Add the value of delta to smoke_count smoke_count += delta # If smoke_count is greater than 0.05 if smoke_count \u003e 0.05: # Set smoke_count back to 0 smoke_count = 0 # Call the method that spawns the smoke spawn_smoke() And let’s define the last method spawn_smoke as follows. This code should be inserted under the steer method.\n### Missile.gd ### # spawn_smoke() method func spawn_smoke(): # Instantiate a scene of smoke particles var smoke = smoke_scn.instance() # Add instance node to parent node (World) get_parent().add_child(smoke) # Put smoke at current missile position smoke.position = global_position # Align the direction of the smoke with the direction of the current missile (doesn't make much sense) smoke.rotation = global_rotation Next, we now define a method to generate explosion particles. Add it under the method spawn_smoke above.\n### Missile.gd ### # 爆発させるメソッド func explode(): # Instantiate a scene of explosion particles var explosion = explosion_scn.instance() # Add instance node to parent node (World) get_parent().add_child(explosion) # Place the explosion particle at the current missile position explosion.position = global_position # Align the orientation of the explosion particle with the orientation of the current missile (doesn't make much sense) explosion.rotation = global_rotation Let’s update the code to call the method explode at the three places with the following “# Add” comments.\n### Missile.gd ### func _on_Missile_body_entered(body): if body.name == \"Player\": print(\"Missile hit \", body.name) body.anim_player.play(\"hit\") body.emit_signal(\"player_hit\") if body.life \u003e 1: body.life -= 1 else: explode() # Add yield(body.anim_player, \"animation_finished\") body.queue_free() print(\"Game Over!\") get_tree().quit() explode() # Add queue_free() func _on_Timer_timeout(): explode() # Add queue_free() That’s all for the update. Let’s run the project one last time to see the direction we added.\nBy the way, both smoke and explosion particles use the “Particles2D” class node. macOS seems to have some performance issues with this node. I’m a macOS user, and it certainly caused a delay. You may be able to see it in the gif image above.\nIf you are using macOS, you can convert the root node (Particles2D class) to the “CPUParticles2D” class using “Convert to CPUParticles2D” from “Paricles” on the toolbar with the root node selected in the scene tree dock. It seems to be possible to convert it to the “CPUParticles2D” class.\nConclusion In this tutorial, we created a homing missile in top-down shooting. Let’s summarize the key points in creating it.\nThe missile scene should be programmed to fly by itself as soon as an instance is added. To reproduce the tracking motion of the missile, sequentially perform the following every frame in the physics process. Multiply the direction vector to the target (the “Player” in this tutorial) by the speed to obtain the ideal velocity. Normalize the vector of the difference between the ideal velocity and the actual velocity to find the direction to steer. Multiply the direction to steer by the force to steer predefined by the property to obtain the speed to steer. Add the velocity to steer to the current acceleration. Add the updated acceleration to the current velocity. When creating an instance of a missile scene, make it a child of an object that does not move, such as its parent node (“World” in this tutorial), rather than of an object that rotates or moves (“Enemy” in this tutorial), so that the missile will fly correctly. To reduce memory consumption, use Timer’s signal so that the missile instance is released at timeout. Links The YouTube videos and articles on KidsCanCode were very helpful in preparing this tutorial. I would like to take this opportunity to thank them. For a better understanding, we recommend that you also view those contents.\nGodot Docs: Matrices and transforms YouTube: Godot Recipes: Homing Missiles YouTube: Godot 3.0: Top-down Tank Battle - Part 10: Homing Missiles KidsCanCode: HOMING MISSILE ",
  "wordCount" : "3533",
  "inLanguage": "en",
  "image":"https://www.peanuts-code.com/images/tutorials/gd0008_homing_missiles/img25.gif","datePublished": "2022-05-28T18:41:00+09:00",
  "dateModified": "2022-05-28T18:41:00+09:00",
  "author":{
    "@type": "Person",
    "name": "Gobo"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.peanuts-code.com/en/tutorials/gd0008_homing_missiles/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Peanuts Code",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.peanuts-code.com/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<noscript>
    <style type="text/css">
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: #1d1e20;
                --entry: #2e2e33;
                --primary: rgba(255, 255, 255, 0.84);
                --secondary: rgba(255, 255, 255, 0.56);
                --tertiary: rgba(255, 255, 255, 0.16);
                --content: rgba(255, 255, 255, 0.74);
                --hljs-bg: #2e2e33;
                --code-bg: #37383e;
                --border: #333;
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://www.peanuts-code.com/en/" accesskey="h" title="Peanuts Code (Alt + H)">
                <img src="/images/logomark.png" alt="logo" aria-label="logo"
                    height="35">Peanuts Code</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                    <li>
                        <a href="https://www.peanuts-code.com/ja/" title="日本語"
                            aria-label="日本語">Ja</a>
                    </li>
                </ul>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://www.peanuts-code.com/en/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="https://www.peanuts-code.com/en/posts/" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="https://www.peanuts-code.com/en/tutorials/" title="Tutorials">
                    <span>Tutorials</span>
                </a>
            </li>
            <li>
                <a href="https://www.peanuts-code.com/en/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://www.peanuts-code.com/en/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://www.peanuts-code.com/en/">Home</a>&nbsp;»&nbsp;<a href="https://www.peanuts-code.com/en/tutorials/">Tutorials</a></div>
    <h1 class="post-title">
      Homing Missiles in Godot3
    </h1>
    <div class="post-meta">2022-05-28&nbsp;·&nbsp;8 min&nbsp;·&nbsp;Gobo&nbsp;|&nbsp;
<ul class="i18n_list">Translations:
    <li>
        <a href="https://www.peanuts-code.com/ja/tutorials/gd0008_homing_missiles/">Ja</a>
    </li>
</ul>
</div>
    
    <ul class="post-tags">
      <li><a href="https://www.peanuts-code.com/en/tags/godotengine/">GodotEngine</a></li>
      <li><a href="https://www.peanuts-code.com/en/tags/gamedev/">GameDev</a></li>
      <li><a href="https://www.peanuts-code.com/en/tags/godot3/">Godot3</a></li>
      <li><a href="https://www.peanuts-code.com/en/tags/2d/">2D</a></li>
      <li><a href="https://www.peanuts-code.com/en/tags/top-down/">Top-down</a></li>
      <li><a href="https://www.peanuts-code.com/en/tags/shooter/">Shooter</a></li>
      <li><a href="https://www.peanuts-code.com/en/tags/homingmissile/">HomingMissile</a></li>
    </ul>

<div class="share-buttons">
    <a target="_blank" rel="noopener noreferrer" aria-label="share Homing Missiles in Godot3 on twitter"
        href="https://twitter.com/intent/tweet/?text=Homing%20Missiles%20in%20Godot3&amp;url=https%3a%2f%2fwww.peanuts-code.com%2fen%2ftutorials%2fgd0008_homing_missiles%2f&amp;hashtags=GodotEngine%2cGameDev%2cGodot3%2c2D%2cTop-down%2cShooter%2cHomingMissile">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-253.927,424.544c135.939,0 210.268,-112.643 210.268,-210.268c0,-3.218 0,-6.437 -0.153,-9.502c14.406,-10.421 26.973,-23.448 36.935,-38.314c-13.18,5.824 -27.433,9.809 -42.452,11.648c15.326,-9.196 26.973,-23.602 32.49,-40.92c-14.252,8.429 -30.038,14.56 -46.896,17.931c-13.487,-14.406 -32.644,-23.295 -53.946,-23.295c-40.767,0 -73.87,33.104 -73.87,73.87c0,5.824 0.613,11.494 1.992,16.858c-61.456,-3.065 -115.862,-32.49 -152.337,-77.241c-6.284,10.881 -9.962,23.601 -9.962,37.088c0,25.594 13.027,48.276 32.95,61.456c-12.107,-0.307 -23.448,-3.678 -33.41,-9.196l0,0.92c0,35.862 25.441,65.594 59.311,72.49c-6.13,1.686 -12.72,2.606 -19.464,2.606c-4.751,0 -9.348,-0.46 -13.946,-1.38c9.349,29.426 36.628,50.728 68.965,51.341c-25.287,19.771 -57.164,31.571 -91.8,31.571c-5.977,0 -11.801,-0.306 -17.625,-1.073c32.337,21.15 71.264,33.41 112.95,33.41Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Homing Missiles in Godot3 on linkedin"
        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fwww.peanuts-code.com%2fen%2ftutorials%2fgd0008_homing_missiles%2f&amp;title=Homing%20Missiles%20in%20Godot3&amp;summary=Homing%20Missiles%20in%20Godot3&amp;source=https%3a%2f%2fwww.peanuts-code.com%2fen%2ftutorials%2fgd0008_homing_missiles%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Homing Missiles in Godot3 on reddit"
        href="https://reddit.com/submit?url=https%3a%2f%2fwww.peanuts-code.com%2fen%2ftutorials%2fgd0008_homing_missiles%2f&title=Homing%20Missiles%20in%20Godot3">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Homing Missiles in Godot3 on facebook"
        href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.peanuts-code.com%2fen%2ftutorials%2fgd0008_homing_missiles%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Homing Missiles in Godot3 on whatsapp"
        href="https://api.whatsapp.com/send?text=Homing%20Missiles%20in%20Godot3%20-%20https%3a%2f%2fwww.peanuts-code.com%2fen%2ftutorials%2fgd0008_homing_missiles%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Homing Missiles in Godot3 on telegram"
        href="https://telegram.me/share/url?text=Homing%20Missiles%20in%20Godot3&amp;url=https%3a%2f%2fwww.peanuts-code.com%2fen%2ftutorials%2fgd0008_homing_missiles%2f">
        <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28">
            <path
                d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
        </svg>
    </a>
</div>

    
    
    
  </header> 
<figure class="entry-cover"><img loading="lazy" src="https://www.peanuts-code.com/images/tutorials/gd0008_homing_missiles/img25.gif" alt="Homing Missiles in Godot">
        
</figure><div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#preliminary-preparation" aria-label="Preliminary Preparation">Preliminary Preparation</a></li>
                <li>
                    <a href="#making-a-homing-missile" aria-label="Making a homing missile">Making a homing missile</a><ul>
                        
                <li>
                    <a href="#creating-a-scene" aria-label="Creating a scene">Creating a scene</a></li>
                <li>
                    <a href="#editing-node-properties" aria-label="Editing node properties">Editing node properties</a><ul>
                        
                <li>
                    <a href="#missile-area2d-root-node" aria-label="Missile (Area2D) Root node">Missile (Area2D) Root node</a></li>
                <li>
                    <a href="#sprite-node" aria-label="Sprite Node">Sprite Node</a></li>
                <li>
                    <a href="#collisionshape2d-node" aria-label="CollisionShape2D node">CollisionShape2D node</a></li>
                <li>
                    <a href="#timer-node" aria-label="Timer node">Timer node</a></li></ul>
                </li>
                <li>
                    <a href="#controlling-it-with-a-script" aria-label="Controlling it with a script">Controlling it with a script</a></li></ul>
                </li>
                <li>
                    <a href="#making-the-enemy-character-launch-a-homing-missile" aria-label="Making the enemy character launch a homing missile">Making the enemy character launch a homing missile</a><ul>
                        
                <li>
                    <a href="#editing-and-controlling-the-script" aria-label="Editing and controlling the script">Editing and controlling the script</a></li></ul>
                </li>
                <li>
                    <a href="#extra-adding-visual-effects" aria-label="Extra: Adding visual effects">Extra: Adding visual effects</a></li>
                <li>
                    <a href="#conclusion" aria-label="Conclusion">Conclusion</a></li>
                <li>
                    <a href="#links" aria-label="Links">Links</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>In this tutorial, we will create a homing missile in a 2D top-down shooter. A homing missile is a missile that tracks its target.</p>
<blockquote>
<p><em><strong><span style="color:salmon">Environment</span>
</strong><br>
This tutorial was created in the following environment</em><br>
・<em>Godot version: <strong>3.4.2</strong></em><br>
・<em>Computer OS version: <strong>macOS 11.6.5</strong></em></p>
</blockquote>
<br>
<p>To focus on the creation of the homing missile, the rest of the project has been pre-created in advance.</p>
<p>The project file for this tutorial is located at <strong><a href="https://github.com/msnsk/HomingMissiles.git" target="_blank">GitHub repository</a>
</strong>. After downloading the .zip file, import the &ldquo;project.godot&rdquo; file in the &ldquo;Start&rdquo; folder into the Godot Engine, and you can start the project with only the preliminary work completed. If you would like to see the completed project in a hurry, import the &ldquo;project.godot&rdquo; file from the &ldquo;End&rdquo; folder.</p>
<p>All the assets imported into the project were downloaded from <strong><a href="https://www.kenney.nl/assets" target="_blank">KENNEY</a>
</strong> website. I used an asset pack called <strong><a href="https://www.kenney.nl/assets/tower-defense-top-down" target="_blank">Tower Defense (top-down)</a>
</strong>. I just want to thank them for making such a great asset pack available to the public.</p>
<br>
<h2 id="preliminary-preparation">Preliminary Preparation<a hidden class="anchor" aria-hidden="true" href="#preliminary-preparation">#</a></h2>
<p>The following game specifications, except for the homing missile part, which is listed as (planned), have already been prepared as a preliminary.</p>
<ul>
<li>Player Character (Fighter):
<ul>
<li>The following keys can be used.
<ul>
<li><strong>move_up</strong>: W key - the player character moves up.</li>
<li><strong>move_down</strong>: S key - the player character moves down.</li>
<li><strong>move_right</strong>: D key - moves the player character to the right.</li>
<li><strong>move_left</strong>: A key - moves the player character left.</li>
<li><strong>magic</strong>: Spacebar or left mouse button - fires the machine gun.</li>
</ul>
</li>
<li>Bullets of the machine gun disappear when they hit the enemy character&rsquo;s tank and the homing missiles it fires.</li>
<li>Bullets of the machine gun disappear when they go off-screen.</li>
</ul>
</li>
<li>Enemy characters (tanks):
<ul>
<li>Up to 5 tanks appear on the game screen. When there are no tanks left, 5 new tanks will be created.</li>
<li>They always move toward the player character.</li>
<li>When the player gets close to a certain distance, they will fire <strong>homing missiles</strong> (planned).</li>
<li>The homing missiles will disappear when the player character or the machine gun is hit by a bullet (planned).</li>
</ul>
</li>
<li>HUD:
<ul>
<li>A simple HUD (Heads Up Display) with only Life and Score displayed in the upper left corner.</li>
<li>Life: Number of remaining lives of the player character (up to 5). If the player&rsquo;s plane is hit by a homing missile from a tank, it will be reduced by 1. When it reaches 0, the game is over (debug panel will close).</li>
<li>Score: Enemy character&rsquo;s life (max 3) is reduced by 1 when the tank is hit by a machine gun round, and 1 point is added when it reaches 0 and the tank is destroyed.</li>
</ul>
</li>
</ul>
<br>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4952908839423901"
     crossorigin="anonymous"></script>
<p><ins class="adsbygoogle"
style="display:block; text-align:center;"
data-ad-layout="in-article"
data-ad-format="fluid"
data-ad-client="ca-pub-4952908839423901"
data-ad-slot="9419515863"></ins></p>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<hr>
<h2 id="making-a-homing-missile">Making a homing missile<a hidden class="anchor" aria-hidden="true" href="#making-a-homing-missile">#</a></h2>
<h3 id="creating-a-scene">Creating a scene<a hidden class="anchor" aria-hidden="true" href="#creating-a-scene">#</a></h3>
<p>First, follow the steps below to create a scene for a homing missile.</p>
<ol>
<li>select &ldquo;Scene&rdquo; menu &gt; &ldquo;New Scene&rdquo;.</li>
<li>Select &ldquo;Other Node&rdquo; in &ldquo;Generate Root Node&rdquo;.</li>
<li>Select a node of &ldquo;Area2D&rdquo; class as a root node.</li>
<li>Rename the root node &ldquo;Area2D&rdquo; to &ldquo;Missile&rdquo;.</li>
<li>Save the scene here once, and set the file path to &ldquo;res://Enemy/Missile.tscn&rdquo;.</li>
</ol>
<br>
<p>Next, add child nodes to the root node &ldquo;Missile&rdquo;.</p>
<ol>
<li>add a node of &ldquo;Sprite&rdquo; class to the root node &ldquo;Missile&rdquo;. This is the appearance of a missile.</li>
<li>Add a node of the &ldquo;CollisionShape2D&rdquo; class to the root node &ldquo;Missile. This is used to detect the collision of the missile with the player&rsquo;s plane and the machine gun projectile it fired.</li>
<li>Add a node of the &ldquo;Timer&rdquo; class to the root node &ldquo;Missile&rdquo;. This is to release the missile instance after a certain period of time.</li>
</ol>
<p>The scene tree should now look like the following.<br>
<img loading="lazy" src="/images/tutorials/gd0008_homing_missiles/img2.png" alt="Missile Scene Tree"  />
</p>
<br>
<h3 id="editing-node-properties">Editing node properties<a hidden class="anchor" aria-hidden="true" href="#editing-node-properties">#</a></h3>
<p>Let&rsquo;s edit the properties of each node in the scene tree in the inspector.</p>
<br>
<h4 id="missile-area2d-root-node">Missile (Area2D) Root node<a hidden class="anchor" aria-hidden="true" href="#missile-area2d-root-node">#</a></h4>
<p>Edit the &ldquo;Collision&rdquo; &gt; &ldquo;Layer&rdquo; property and &ldquo;Collision&rdquo; &gt; &ldquo;Mask&rdquo; property of the &ldquo;CollisionObject2D&rdquo; class.</p>
<p>The &ldquo;Layer&rdquo; property allows you to set which collision layer the object (in this case, the &ldquo;Missile&rdquo; node) will be assigned to.</p>
<p>The &ldquo;Mask&rdquo; property allows you to set which collision layer the object will enable collisions with objects in that layer. In other words, objects in layers not selected by the &ldquo;Mask&rdquo; property will pass through each other without colliding, even if their positions overlap.</p>
<p>For example, a homing missile will pass through without collision with an enemy character&rsquo;s tank, but collisions with the player character or machine gun bullets must be detected. Since the player character&rsquo;s plane is flying over the tank, collisions with the tank are ignored, while collisions with homing missiles need to be detected.</p>
<p>To make it easier to understand which object is assigned to which collision layer, I have already named the collision layers to be used by following the steps below.</p>
<ol>
<li>open the &ldquo;Project&rdquo; menu &gt; &ldquo;Project Settings</li>
<li>Select &ldquo;Layer Names&rdquo; &gt; &ldquo;2d Physics&rdquo; from the sidebar.</li>
<li>Set the names of Layers 1 to 4 as follows.
<ul>
<li>Layer 1: Player</li>
<li>Layer 2: Enemies</li>
<li>Layer 3: PlayerBullets</li>
<li>Layer 4: EnemyMissiles<br>
<img loading="lazy" src="/images/tutorials/gd0008_homing_missiles/img3.png" alt="2D Physics Layers"  />
</li>
</ul>
</li>
</ol>
<p>The &ldquo;Layer&rdquo; and &ldquo;Mask&rdquo; properties of the player character, machine gun bullets, and enemy characters have already been set as follows, according to the collision layer names above.</p>
<ul>
<li>Player Character: Player.tscn scene &gt; Player (KinematicBody2D) root node
<ul>
<li>Layer properties: Layer 1</li>
<li>Mask property: Layer 4 (detects collisions with missiles)<br>
<img loading="lazy" src="/images/tutorials/gd0008_homing_missiles/img4.png" alt="CollisionObject2D properties"  />
</li>
</ul>
</li>
<li>Enemy character: Enemy.tscn scene &gt; Enemy (KinematicBody2D) root node
<ul>
<li>Layer property: Layer 2</li>
<li>Mask property: Layer 2, 3 (detects collisions with other tanks and machine gun bullets)<br>
<img loading="lazy" src="/images/tutorials/gd0008_homing_missiles/img5.png" alt="CollisionObject2D properties"  />
</li>
</ul>
</li>
<li>Machine gun bullet: Bullet.tscn scene &gt; Bullet (Area2D) root node
<ul>
<li>Layer property: Layer 3</li>
<li>Mask property: Layer 2, 4 (detects collisions between tanks and homing missiles)<br>
<img loading="lazy" src="/images/tutorials/gd0008_homing_missiles/img6.png" alt="CollisionObject2D properties"  />
</li>
</ul>
</li>
</ul>
<br>
<p>And I would like you to set up the homing missile you are editing now as well, as follows</p>
<ul>
<li>Homing missile: Missile.tscn &gt; Missile (Area2D) root node
<ul>
<li>Layer property: Layer 4</li>
<li>Mask property: Layer 1, 3 (detects collisions between planes and machine gun bullets)<br>
<img loading="lazy" src="/images/tutorials/gd0008_homing_missiles/img7.png" alt="CollisionObject2D properties"  />
</li>
</ul>
</li>
</ul>
<br>
<p>Once we have edited the properties of the root node &ldquo;Missile&rdquo;, we should incidentally add this node by creating a group called &ldquo;Missiles&rdquo;. This is used to determine whether a missile is a missile or not when a machine gun bullet hits a missile.</p>
<ol>
<li>select &ldquo;Missile&rdquo; in the scene tree dock</li>
<li>open the node dock &gt; group tab and add the group &ldquo;Missiles&rdquo;.<br>
<img loading="lazy" src="/images/tutorials/gd0008_homing_missiles/img7.1.png" alt="CollisionObject2D properties"  />
</li>
</ol>
<br>
<h4 id="sprite-node">Sprite Node<a hidden class="anchor" aria-hidden="true" href="#sprite-node">#</a></h4>
<p>The method of setting a texture for a sprite by specifying the range of textures you want to use from a single sprite sheet that contains many textures is used.</p>
<ol>
<li>In the inspector, apply the resource file &ldquo;res://towerDefense_tilesheet.png&rdquo; to the &ldquo;Texture&rdquo; property.<br>
<img loading="lazy" src="/images/tutorials/gd0008_homing_missiles/img8.png" alt="Texture property of Sprite"  />
</li>
<li>Turn on &ldquo;Region&rdquo; &gt; &ldquo;Enabled&rdquo;.<br>
<img loading="lazy" src="/images/tutorials/gd_common/node/Sprite/property/Region%3eEnabled=On.png" alt="Region&amp;gt;Enabled property of Sprite"  />
</li>
<li>open the &ldquo;Texture Region&rdquo; panel at the bottom of the editor and specify the region of the texture you want to use in the sprite sheet.<br>
<img loading="lazy" src="/images/tutorials/gd_common/panel/TextureRegion/tab_name.png" alt="Region pannel"  />

<ol>
<li>First, expand the panel to the top of the editor so that it is easy to see, and then enlarge the sprite sheet to a size that is easy to see.<br>
<img loading="lazy" src="/images/tutorials/gd_common/panel/TextureRegion/expand_icon.png" alt="Region pannel"  />
</li>
<li>select &ldquo;Grid Snap&rdquo; in &ldquo;Snap Mode&rdquo; at the top of the &ldquo;Texture Region&rdquo; panel.<br>
<img loading="lazy" src="/images/tutorials/gd_common/panel/TextureRegion/snap_mode=grid_snap.png" alt="Region pannel &amp;gt; choose grid snap"  />
</li>
<li>set the &ldquo;step&rdquo; at the top of the panel to 64px 64px as well. This will make the grid the same size as the sprites on the sprite sheet.<br>
<img loading="lazy" src="/images/tutorials/gd_common/panel/TextureRegion/step=64x64.png" alt="Region pannel &amp;gt; input grid step"  />
</li>
<li>select the texture of the larger missile on the sprite sheet.<br>
<img loading="lazy" src="/images/tutorials/gd0008_homing_missiles/img14.png" alt="Region pannel Select region"  />
<br>
Return to the inspector and set the &ldquo;Transform&rdquo; &gt; &ldquo;Rotation&rdquo; property to 90.<br>
<img loading="lazy" src="/images/tutorials/gd0008_homing_missiles/img15.png" alt="Transform &amp;gt; Rotation property"  />
<br>
This will rotate the texture by 90°. Since the object&rsquo;s normal orientation is 0° along the positive x-axis and the missile&rsquo;s direction of travel is based on this, the sprite&rsquo;s orientation was adjusted accordingly.<br>
<img loading="lazy" src="/images/tutorials/gd0008_homing_missiles/img16.png" alt="Sprite in 2D workspace"  />
</li>
</ol>
</li>
</ol>
<br>
<h4 id="collisionshape2d-node">CollisionShape2D node<a hidden class="anchor" aria-hidden="true" href="#collisionshape2d-node">#</a></h4>
<p>This node sets the collision shape of the homing missile. It is required to determine the collision between the missile and the player character, and the system will alert you if a child node that sets the collision shape has not been added to the &ldquo;Area2D&rdquo; class node.</p>
<ol>
<li>In the inspector, apply the &ldquo;New CapsuleShape2D&rdquo; resource to the &ldquo;Shape&rdquo; property.<br>
<img loading="lazy" src="/images/tutorials/gd0008_homing_missiles/img17.png" alt="Shape property"  />
</li>
<li>In the 2D workspace, match the collision shape to the size of the &ldquo;Sprite&rdquo; node texture.<br>
<img loading="lazy" src="/images/tutorials/gd0008_homing_missiles/img18.png" alt="CollisionShape in 2D workspace"  />
</li>
<li>If you want to enter directly in the inspector, set the properties of the &ldquo;CapsuleShape2D&rdquo; resource as follows
<ul>
<li>Set the &ldquo;Radius&rdquo; property to 8.</li>
<li>Set the &ldquo;Height&rdquo; property to 24.<br>
<img loading="lazy" src="/images/tutorials/gd0008_homing_missiles/img19.png" alt="Radius, Height property"  />
</li>
</ul>
</li>
</ol>
<br>
<h4 id="timer-node">Timer node<a hidden class="anchor" aria-hidden="true" href="#timer-node">#</a></h4>
<p>This node is a timer for homing missiles to self-destruct after a certain amount of time. If missiles continue to exist in the game indefinitely, the number of missiles will grow and the computer will run out of memory to handle them. To avoid this, the system is designed to release instances when the time expires. For missiles that fly in a straight line, it is possible to use the signal of the &ldquo;VisibilityNotifier2D&rdquo; node to release instances when they go off the screen, but for homing missiles that track the player character, a timer is more appropriate.</p>
<ol>
<li>In the inspector, set the &ldquo;Wait Time&rdquo; property to 3. This is the effective time of the missile. You can tweak it to your liking, but be aware that if it is too long, there will be too many missiles at the same time, which will consume too much memory.</li>
<li>Turn on the &ldquo;One Shot&rdquo; property.</li>
<li>Turn on the &ldquo;Auto Start&rdquo; property.<br>
<img loading="lazy" src="/images/tutorials/gd0008_homing_missiles/img20.png" alt="Timer node properties"  />
</li>
</ol>
<br>
<p>This completes the property editing for each node.</p>
<br>
<h3 id="controlling-it-with-a-script">Controlling it with a script<a hidden class="anchor" aria-hidden="true" href="#controlling-it-with-a-script">#</a></h3>
<p>Next, we will create a script to control the missile. We want you to attach a new script to the root node &ldquo;Missile&rdquo;. The file path should be created as &ldquo;res://Enemy/Missile.gd&rdquo;.</p>
<p>First, edit the &ldquo;Missile.gd&rdquo; script as follows.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-GDScript" data-lang="GDScript"><span style="display:flex;"><span><span style="color:#75715e">### Missile.gd ###</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">Node2D</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Missile speed</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">var</span> speed <span style="color:#f92672">=</span> <span style="color:#ae81ff">400</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Velocity of the missile</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> velocity <span style="color:#f92672">=</span> <span style="color:#a6e22e">Vector2</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Physics process</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> _physics_process(delta):
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># velocity = current orientation x speed</span>
</span></span><span style="display:flex;"><span>	velocity <span style="color:#f92672">=</span> transform<span style="color:#f92672">.</span>x <span style="color:#f92672">*</span> speed
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># Update position: current position + velocity x delta (seconds per frame)</span>
</span></span><span style="display:flex;"><span>	position <span style="color:#f92672">+=</span> velocity <span style="color:#f92672">*</span> delta
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># Update orientation: match current velocity</span>
</span></span><span style="display:flex;"><span>	rotation <span style="color:#f92672">=</span> velocity<span style="color:#f92672">.</span>angle()
</span></span></code></pre></div><br>
<p>Now, the missile should fly straight for the time being. Let&rsquo;s run the scene and check it out.<br>
<img loading="lazy" src="/images/tutorials/gd0008_homing_missiles/img21.gif" alt="Run Missile Scene"  />
</p>
<p>Can you see the missile flying from left to right across the top portion of the GIF image?</p>
<p>Next, we will add the motion to track the player character to the script. First, let&rsquo;s define some necessary properties. In the following code, please add the commented &ldquo;# Add&rdquo;.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-GDScript" data-lang="GDScript"><span style="display:flex;"><span><span style="color:#75715e">### Missile.gd ###</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">Node2D</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">var</span> speed <span style="color:#f92672">=</span> <span style="color:#ae81ff">400</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Add: the ability to steer in the direction the player is in.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># The higher the value, the quicker the direction correction</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">var</span> steering_force <span style="color:#f92672">=</span> <span style="color:#ae81ff">20.0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> velocity <span style="color:#f92672">=</span> <span style="color:#a6e22e">Vector2</span>()
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Add: acceleration</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> acceleration <span style="color:#f92672">=</span> <span style="color:#a6e22e">Vector2</span>()
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Reference to the target Player object (as soon as detected)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> target <span style="color:#f92672">=</span> null
</span></span></code></pre></div><br>
<p>Next, define the method by which the missile will steer toward the player character (correct its trajectory).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-GDScript" data-lang="GDScript"><span style="display:flex;"><span><span style="color:#75715e">### Missile.gd ###</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># method to steer the missile towards the player character</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> steer():
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># Define as velocity to steer</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> steering <span style="color:#f92672">=</span> <span style="color:#a6e22e">Vector2</span>()
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># Define ideal velocity (direction x speed towards player character from current position)</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> ideal_velocity <span style="color:#f92672">=</span> (target<span style="color:#f92672">.</span>position <span style="color:#f92672">-</span> position)<span style="color:#f92672">.</span>normalized() <span style="color:#f92672">*</span> speed
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># speed to steer = direction vector obtained by ideal_velocity - current_velocity x force to steer</span>
</span></span><span style="display:flex;"><span>	steering <span style="color:#f92672">=</span> (ideal_velocity <span style="color:#f92672">-</span> velocity)<span style="color:#f92672">.</span>normalized() <span style="color:#f92672">*</span> steering_force
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># output velocity to steer</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> steering
</span></span></code></pre></div><br>
<p>Since it may be difficult to visualize from the comments on the code alone, I will supplement this with a diagram.<br>
<img loading="lazy" src="/images/tutorials/gd0008_homing_missiles/diagram1.png" alt="Diagram"  />
</p>
<p>When the homing missile detects the player character&rsquo;s plane, it will track it as a <code>target</code>. The ideal velocity is the variable <code>ideal_velocity</code>, assuming that the missile could travel in a straight line in the direction of the <code>target</code>. In reality, however, the missile is flying in the direction that the property <code>velocity</code> has, and we want to steer it toward <code>ideal_velocity</code> to correct its trajectory.</p>
<p>That&rsquo;s where the vector calculation comes in. If we take the vector <code>ideal_velocity</code> minus <code>velocity</code> and turn it into a direction vector (a vector of length 1) using the method <code>normalized</code>. Then, multiply it by the value of the property <code>steering_force</code>, which is the force to steer, the value of the variable <code>steering</code> is determined, which is the velocity to steer.</p>
<p>Now, let&rsquo;s use the value of the variable <code>steering</code> output by the method <code>steer</code> to modify the missile so that it flies while correcting its trajectory. Please add the comment &ldquo;# Add&rdquo; to the method <code>_physics_process</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-GDScript" data-lang="GDScript"><span style="display:flex;"><span><span style="color:#75715e">### Missile.gd ###</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> _physics_process(delta):
</span></span><span style="display:flex;"><span>	velocity <span style="color:#f92672">=</span> transform<span style="color:#f92672">.</span>x <span style="color:#f92672">*</span> speed
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># Add: add velocity to steer to acceleration</span>
</span></span><span style="display:flex;"><span>	acceleration <span style="color:#f92672">+=</span> steer()
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># Add: add the velocity plus the acceleration x delta value to the velocity</span>
</span></span><span style="display:flex;"><span>	velocity <span style="color:#f92672">+=</span> acceleration <span style="color:#f92672">*</span> delta
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># Add: limit the length of the velocity vector so that it does not exceed the speed</span>
</span></span><span style="display:flex;"><span>	velocity <span style="color:#f92672">=</span> velocity<span style="color:#f92672">.</span>clamped(speed)
</span></span><span style="display:flex;"><span>	position <span style="color:#f92672">+=</span> velocity <span style="color:#f92672">*</span> delta
</span></span><span style="display:flex;"><span>	rotation <span style="color:#f92672">=</span> velocity<span style="color:#f92672">.</span>angle()
</span></span></code></pre></div><br>
<p>This should have implemented the movement of the homing missile tracking the player character.<br>
<br></p>
<p>Let&rsquo;s continue by adding a program for when the missile hits the player character or the machine gun projectile. For this, we will use the signal of the Area2D class of the root node &ldquo;Missile&rdquo;.</p>
<p>Now, after selecting &ldquo;Missile&rdquo; in the scene tree dock, go to the node dock &gt; Signal tab and connect the signal &ldquo;body_entered(body: Node)&rdquo; to this &ldquo;Missile.gd&rdquo; script.<br>
<img loading="lazy" src="/images/tutorials/gd0008_homing_missiles/img22.png" alt="Connect signal body_entered"  />
</p>
<p>After connecting, edit the automatically generated method <code>_on_Missile_body_entered</code> as follows.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-GDScript" data-lang="GDScript"><span style="display:flex;"><span><span style="color:#75715e">### Missile.gd ###</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Method called by the signal sent when the physical body is hit by a missile</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> _on_Missile_body_entered(body):
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># If the physical body is the player character</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> body<span style="color:#f92672">.</span>name <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;Player&#34;</span>:
</span></span><span style="display:flex;"><span>		print(<span style="color:#e6db74">&#34;Missile hit &#34;</span>, body<span style="color:#f92672">.</span>name)
</span></span><span style="display:flex;"><span>		<span style="color:#75715e"># Play the animation &#34;hit&#34; of the AnimationPlayer in the Player scene</span>
</span></span><span style="display:flex;"><span>		body<span style="color:#f92672">.</span>anim_player<span style="color:#f92672">.</span>play(<span style="color:#e6db74">&#34;hit&#34;</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#75715e"># Emit the signal player_hit for the Player node</span>
</span></span><span style="display:flex;"><span>		body<span style="color:#f92672">.</span>emit_signal(<span style="color:#e6db74">&#34;player_hit&#34;</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#75715e"># If the Player&#39;s Life is greater than 1, set it to -1</span>
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">if</span> body<span style="color:#f92672">.</span>life <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>:
</span></span><span style="display:flex;"><span>			body<span style="color:#f92672">.</span>life <span style="color:#f92672">-=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e"># if the Player&#39;s Life is less than 1</span>
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>			<span style="color:#75715e"># wait for animation hit to finish playing</span>
</span></span><span style="display:flex;"><span>			yield(body<span style="color:#f92672">.</span>anim_player, <span style="color:#e6db74">&#34;animation_finished&#34;</span>)
</span></span><span style="display:flex;"><span>			<span style="color:#75715e"># release the Player object</span>
</span></span><span style="display:flex;"><span>			body<span style="color:#f92672">.</span>queue_free()
</span></span><span style="display:flex;"><span>			print(<span style="color:#e6db74">&#34;Game Over!&#34;</span>)
</span></span><span style="display:flex;"><span>			<span style="color:#75715e"># Close debug panel and exit</span>
</span></span><span style="display:flex;"><span>			get_tree()<span style="color:#f92672">.</span>quit()
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># release the missile itself</span>
</span></span><span style="display:flex;"><span>	queue_free()
</span></span></code></pre></div><p>Now, when a missile hits the player character&rsquo;s plane, it animates (flashes red) and the player&rsquo;s Life is reduced by one, and the game is over when there are no more than 0 planes left.</p>
<br>
<p>The next step is to create a mechanism to release the missile when the time expires using the timer in the &ldquo;Timer&rdquo; node. This also uses the signal of the &ldquo;Timer&rdquo; node. Now, select &ldquo;Timer&rdquo; in the scene tree dock, and connect the signal &ldquo;timeout()&rdquo; to the script.<br>
<img loading="lazy" src="/images/tutorials/gd0008_homing_missiles/img23.png" alt="Connect signal timeout"  />
</p>
<p>In the block of the method <code>_on_Timer_timeout</code> generated by the connection, simply add the method <code>queue_free</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-GDScript" data-lang="GDScript"><span style="display:flex;"><span><span style="color:#75715e">### Missile.gd ###</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> _on_Timer_timeout():
</span></span><span style="display:flex;"><span>	queue_free()
</span></span></code></pre></div><br>
<p>The missile is now complete.</p>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4952908839423901"
     crossorigin="anonymous"></script>
<p><ins class="adsbygoogle"
style="display:block; text-align:center;"
data-ad-layout="in-article"
data-ad-format="fluid"
data-ad-client="ca-pub-4952908839423901"
data-ad-slot="9419515863"></ins></p>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<hr>
<h2 id="making-the-enemy-character-launch-a-homing-missile">Making the enemy character launch a homing missile<a hidden class="anchor" aria-hidden="true" href="#making-the-enemy-character-launch-a-homing-missile">#</a></h2>
<p>The next step is for the &ldquo;Enemy.tscn&rdquo; scene to create an instance of the &ldquo;Missile.tscn&rdquo; scene that we just created, so that the enemy character&rsquo;s tank fires homing missiles.</p>
<br>
<h3 id="editing-and-controlling-the-script">Editing and controlling the script<a hidden class="anchor" aria-hidden="true" href="#editing-and-controlling-the-script">#</a></h3>
<p>Let&rsquo;s open and edit the &ldquo;Enemy.gd&rdquo; script attached to the root node &ldquo;Enemy&rdquo; in the &ldquo;Enemy.tscn&rdquo; scene.</p>
<p>First, let&rsquo;s preload the missile scene file. At the beginning of the script, define constants for references. You will see the comment &ldquo;# Add&rdquo;.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-GDScript" data-lang="GDScript"><span style="display:flex;"><span><span style="color:#75715e">### Enemy.gd ###</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">KinematicBody2D</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">signal</span> enemy_killed
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Add: reference to preloaded Missile.tscn scene file</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> missile_scn <span style="color:#f92672">=</span> preload(<span style="color:#e6db74">&#34;res://Enemy/Missile.tscn&#34;</span>)
</span></span></code></pre></div><p>Next, since the block of the method <code>_on_Timer_timeout</code> contains only <code>pass</code>, please update it as follows. Incidentally, this method was generated by connecting the signal &ldquo;timeout()&rdquo; of the &ldquo;LaunchTimer&rdquo; node (Timer class). In other words, this method is called every time the timer times out.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-GDScript" data-lang="GDScript"><span style="display:flex;"><span><span style="color:#75715e">### Enemy.gd ###</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Method called by a signal sent out when a LaunchTimer node times out</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> _on_LaunchTimer_timeout():
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># If the parent node (World) has a node named Player</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> get_parent()<span style="color:#f92672">.</span>has_node(<span style="color:#e6db74">&#34;Player&#34;</span>):
</span></span><span style="display:flex;"><span>		<span style="color:#75715e"># call the method to launch the missile</span>
</span></span><span style="display:flex;"><span>		launch_missile()
</span></span></code></pre></div><p>Please insert the following code defining the method <code>launch_missile</code>, which is described at the end of the above code, after the above <code>_on_LaunchTimer_timeout</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-GDScript" data-lang="GDScript"><span style="display:flex;"><span><span style="color:#75715e">### Enemy.gd ###</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Method to launch a missile</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> launch_missile():
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># Instantiate the Missile.tscn scene</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> missile <span style="color:#f92672">=</span> missile_scn<span style="color:#f92672">.</span>instance()
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># Assign the Player object to Missile&#39;s target property</span>
</span></span><span style="display:flex;"><span>	missile<span style="color:#f92672">.</span>target <span style="color:#f92672">=</span> get_parent()<span style="color:#f92672">.</span>get_node(<span style="color:#e6db74">&#34;Player&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># Add a missile instance to the parent node (World)</span>
</span></span><span style="display:flex;"><span>	get_parent()<span style="color:#f92672">.</span>add_child(missile)
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># Align the missile with the tip of the tank&#39;s cannon</span>
</span></span><span style="display:flex;"><span>	missile<span style="color:#f92672">.</span>position <span style="color:#f92672">=</span> muzzle<span style="color:#f92672">.</span>global_position
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># Align the direction of the missile with the direction of the tip of the tank&#39;s cannon</span>
</span></span><span style="display:flex;"><span>	missile<span style="color:#f92672">.</span>rotation <span style="color:#f92672">=</span> muzzle<span style="color:#f92672">.</span>global_rotation
</span></span></code></pre></div><p>The missile should now be able to be launched. Let&rsquo;s run the project to see if the implementation so far works without problem.<br>
<img loading="lazy" src="/images/tutorials/gd0008_homing_missiles/img24.gif" alt="Run project"  />
</p>
<br>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4952908839423901"
     crossorigin="anonymous"></script>
<p><ins class="adsbygoogle"
style="display:block; text-align:center;"
data-ad-layout="in-article"
data-ad-format="fluid"
data-ad-client="ca-pub-4952908839423901"
data-ad-slot="9419515863"></ins></p>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<hr>
<h2 id="extra-adding-visual-effects">Extra: Adding visual effects<a hidden class="anchor" aria-hidden="true" href="#extra-adding-visual-effects">#</a></h2>
<p>For visual effect, we have prepared explosion particles when the missile hits and smoke particles coming out from behind the missile in the preliminary stage. Let&rsquo;s use these by adding code to the &ldquo;Missile.gd&rdquo; script to give the missile a more visually appealing performance.</p>
<p>After opening the &ldquo;Missile.gd&rdquo; script, add the line &ldquo;# Add&rdquo; to the code.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-GDScript" data-lang="GDScript"><span style="display:flex;"><span><span style="color:#75715e">### Missile.gd ###</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Add: See preloading Smoke.tscn (scene with only smoke particles)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> smoke_scn <span style="color:#f92672">=</span> preload(<span style="color:#e6db74">&#34;res://Effect/Smoke.tscn&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Add: Preload reference to Explosion.tscn (scene with only explosion particles)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> explosion_scn <span style="color:#f92672">=</span> preload(<span style="color:#e6db74">&#34;res://Effect/Explosion.tscn&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">var</span> speed <span style="color:#f92672">=</span> <span style="color:#ae81ff">400</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">var</span> steering_force <span style="color:#f92672">=</span> <span style="color:#ae81ff">20.0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> velocity <span style="color:#f92672">=</span> <span style="color:#a6e22e">Vector2</span>()
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> acceleration <span style="color:#f92672">=</span> <span style="color:#a6e22e">Vector2</span>()
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> target <span style="color:#f92672">=</span> null
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Add: count to space out the smoke</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> smoke_count <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span></code></pre></div><br>
<p>Next, call the method that produces the smoke within the <code>_physics_process</code> method.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-GDScript" data-lang="GDScript"><span style="display:flex;"><span><span style="color:#75715e">### Missile.gd ###</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> _physics_process(delta):
</span></span><span style="display:flex;"><span>	velocity <span style="color:#f92672">=</span> transform<span style="color:#f92672">.</span>x <span style="color:#f92672">*</span> speed
</span></span><span style="display:flex;"><span>	acceleration <span style="color:#f92672">+=</span> steer()
</span></span><span style="display:flex;"><span>	velocity <span style="color:#f92672">+=</span> acceleration <span style="color:#f92672">*</span> delta
</span></span><span style="display:flex;"><span>	velocity <span style="color:#f92672">=</span> velocity<span style="color:#f92672">.</span>clamped(speed)
</span></span><span style="display:flex;"><span>	position <span style="color:#f92672">+=</span> velocity <span style="color:#f92672">*</span> delta
</span></span><span style="display:flex;"><span>	rotation <span style="color:#f92672">=</span> velocity<span style="color:#f92672">.</span>angle()
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Add the value of delta to smoke_count</span>
</span></span><span style="display:flex;"><span>	smoke_count <span style="color:#f92672">+=</span> delta
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># If smoke_count is greater than 0.05</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> smoke_count <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0.05</span>:
</span></span><span style="display:flex;"><span>		<span style="color:#75715e"># Set smoke_count back to 0</span>
</span></span><span style="display:flex;"><span>		smoke_count <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e"># Call the method that spawns the smoke</span>
</span></span><span style="display:flex;"><span>		spawn_smoke()
</span></span></code></pre></div><br>
<p>And let&rsquo;s define the last method <code>spawn_smoke</code> as follows. This code should be inserted under the <code>steer</code> method.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-GDScript" data-lang="GDScript"><span style="display:flex;"><span><span style="color:#75715e">### Missile.gd ###</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># spawn_smoke() method</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> spawn_smoke():
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># Instantiate a scene of smoke particles</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> smoke <span style="color:#f92672">=</span> smoke_scn<span style="color:#f92672">.</span>instance()
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># Add instance node to parent node (World)</span>
</span></span><span style="display:flex;"><span>	get_parent()<span style="color:#f92672">.</span>add_child(smoke)
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># Put smoke at current missile position</span>
</span></span><span style="display:flex;"><span>	smoke<span style="color:#f92672">.</span>position <span style="color:#f92672">=</span> global_position
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># Align the direction of the smoke with the direction of the current missile (doesn&#39;t make much sense)</span>
</span></span><span style="display:flex;"><span>	smoke<span style="color:#f92672">.</span>rotation <span style="color:#f92672">=</span> global_rotation
</span></span></code></pre></div><br>
<p>Next, we now define a method to generate explosion particles. Add it under the method <code>spawn_smoke</code> above.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-GDScript" data-lang="GDScript"><span style="display:flex;"><span><span style="color:#75715e">### Missile.gd ###</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 爆発させるメソッド</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> explode():
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># Instantiate a scene of explosion particles</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> explosion <span style="color:#f92672">=</span> explosion_scn<span style="color:#f92672">.</span>instance()
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># Add instance node to parent node (World)</span>
</span></span><span style="display:flex;"><span>	get_parent()<span style="color:#f92672">.</span>add_child(explosion)
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># Place the explosion particle at the current missile position</span>
</span></span><span style="display:flex;"><span>	explosion<span style="color:#f92672">.</span>position <span style="color:#f92672">=</span> global_position
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># Align the orientation of the explosion particle with the orientation of the current missile (doesn&#39;t make much sense)</span>
</span></span><span style="display:flex;"><span>	explosion<span style="color:#f92672">.</span>rotation <span style="color:#f92672">=</span> global_rotation
</span></span></code></pre></div><br>
<p>Let&rsquo;s update the code to call the method <code>explode</code> at the three places with the following &ldquo;# Add&rdquo; comments.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-GDScript" data-lang="GDScript"><span style="display:flex;"><span><span style="color:#75715e">### Missile.gd ###</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> _on_Missile_body_entered(body):
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> body<span style="color:#f92672">.</span>name <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;Player&#34;</span>:
</span></span><span style="display:flex;"><span>		print(<span style="color:#e6db74">&#34;Missile hit &#34;</span>, body<span style="color:#f92672">.</span>name)
</span></span><span style="display:flex;"><span>		body<span style="color:#f92672">.</span>anim_player<span style="color:#f92672">.</span>play(<span style="color:#e6db74">&#34;hit&#34;</span>)
</span></span><span style="display:flex;"><span>		body<span style="color:#f92672">.</span>emit_signal(<span style="color:#e6db74">&#34;player_hit&#34;</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">if</span> body<span style="color:#f92672">.</span>life <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>:
</span></span><span style="display:flex;"><span>			body<span style="color:#f92672">.</span>life <span style="color:#f92672">-=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>			explode() <span style="color:#75715e"># Add</span>
</span></span><span style="display:flex;"><span>			yield(body<span style="color:#f92672">.</span>anim_player, <span style="color:#e6db74">&#34;animation_finished&#34;</span>)
</span></span><span style="display:flex;"><span>			body<span style="color:#f92672">.</span>queue_free()
</span></span><span style="display:flex;"><span>			print(<span style="color:#e6db74">&#34;Game Over!&#34;</span>)
</span></span><span style="display:flex;"><span>			get_tree()<span style="color:#f92672">.</span>quit()
</span></span><span style="display:flex;"><span>	explode() <span style="color:#75715e"># Add</span>
</span></span><span style="display:flex;"><span>	queue_free()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> _on_Timer_timeout():
</span></span><span style="display:flex;"><span>	explode() <span style="color:#75715e"># Add</span>
</span></span><span style="display:flex;"><span>	queue_free()
</span></span></code></pre></div><br>
<p>That&rsquo;s all for the update. Let&rsquo;s run the project one last time to see the direction we added.<br>
<img loading="lazy" src="/images/tutorials/gd0008_homing_missiles/img25.gif" alt="Run project 2"  />
</p>
<br>
<p>By the way, both smoke and explosion particles use the &ldquo;Particles2D&rdquo; class node. macOS seems to have some performance issues with this node. I&rsquo;m a macOS user, and it certainly caused a delay. You may be able to see it in the gif image above.<br>
<img loading="lazy" src="/images/tutorials/gd0008_homing_missiles/img26.png" alt="Particles2D alert"  />
</p>
<p>If you are using macOS, you can convert the root node (Particles2D class) to the &ldquo;CPUParticles2D&rdquo; class using &ldquo;Convert to CPUParticles2D&rdquo; from &ldquo;Paricles&rdquo; on the toolbar with the root node selected in the scene tree dock. It seems to be possible to convert it to the &ldquo;CPUParticles2D&rdquo; class.<br>
<img loading="lazy" src="/images/tutorials/gd0008_homing_missiles/img27.png" alt="convert to CPUParticles2D"  />
</p>
<br>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4952908839423901"
     crossorigin="anonymous"></script>
<p><ins class="adsbygoogle"
style="display:block; text-align:center;"
data-ad-layout="in-article"
data-ad-format="fluid"
data-ad-client="ca-pub-4952908839423901"
data-ad-slot="9419515863"></ins></p>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<hr>
<h2 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">#</a></h2>
<p>In this tutorial, we created a homing missile in top-down shooting. Let&rsquo;s summarize the key points in creating it.</p>
<ul>
<li>The missile scene should be programmed to fly by itself as soon as an instance is added.</li>
<li>To reproduce the tracking motion of the missile, sequentially perform the following every frame in the physics process.
<ol>
<li>Multiply the direction vector to the target (the &ldquo;Player&rdquo; in this tutorial) by the speed to obtain the ideal velocity.</li>
<li>Normalize the vector of the difference between the ideal velocity and the actual velocity to find the direction to steer.</li>
<li>Multiply the direction to steer by the force to steer predefined by the property to obtain the speed to steer.</li>
<li>Add the velocity to steer to the current acceleration.</li>
<li>Add the updated acceleration to the current velocity.</li>
</ol>
</li>
<li>When creating an instance of a missile scene, make it a child of an object that does not move, such as its parent node (&ldquo;World&rdquo; in this tutorial), rather than of an object that rotates or moves (&ldquo;Enemy&rdquo; in this tutorial), so that the missile will fly correctly.</li>
<li>To reduce memory consumption, use Timer&rsquo;s signal so that the missile instance is released at timeout.</li>
</ul>
<br>
<hr>
<h2 id="links">Links<a hidden class="anchor" aria-hidden="true" href="#links">#</a></h2>
<p>The YouTube videos and articles on KidsCanCode were very helpful in preparing this tutorial. I would like to take this opportunity to thank them. For a better understanding, we recommend that you also view those contents.</p>
<ul>
<li><a href="https://docs.godotengine.org/en/stable/tutorials/math/matrices_and_transforms.html" target="_blank">Godot Docs: Matrices and transforms</a>
</li>
<li><a href="https://www.youtube.com/watch?v=pRYMy5uQSpo" target="_blank">YouTube: Godot Recipes: Homing Missiles</a>
</li>
<li><a href="https://www.youtube.com/watch?v=KAUP4nlJyz0" target="_blank">YouTube: Godot 3.0: Top-down Tank Battle - Part 10: Homing Missiles</a>
</li>
<li><a href="http://kidscancode.org/godot_recipes/ai/homing_missile/" target="_blank">KidsCanCode: HOMING MISSILE</a>
</li>
</ul>
<br>
<!-- **UPDATE** -->
<!-- 2022/05/25 新規作成 -->
<hr>


  </div>

  <footer class="post-footer">
    
    <div class="recommendation">
        <span>Please feel free to follow my accounts!</span>
      <div class="social-icons">
    <a href="https://twitter.com/MasanaoSako" target="_blank" rel="noopener noreferrer me" title="Twitter">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z">
    </path>
</svg>
    </a>
    <a href="https://github.com/msnsk/" target="_blank" rel="noopener noreferrer me" title="GitHub">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22">
    </path>
</svg>
    </a>
</div>

    </div>
    <div class="recommendation">
        <span>If you liked this article, please share it!</span>
    </div>
    
    

<div class="share-buttons">
    <a target="_blank" rel="noopener noreferrer" aria-label="share Homing Missiles in Godot3 on twitter"
        href="https://twitter.com/intent/tweet/?text=Homing%20Missiles%20in%20Godot3&amp;url=https%3a%2f%2fwww.peanuts-code.com%2fen%2ftutorials%2fgd0008_homing_missiles%2f&amp;hashtags=GodotEngine%2cGameDev%2cGodot3%2c2D%2cTop-down%2cShooter%2cHomingMissile">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-253.927,424.544c135.939,0 210.268,-112.643 210.268,-210.268c0,-3.218 0,-6.437 -0.153,-9.502c14.406,-10.421 26.973,-23.448 36.935,-38.314c-13.18,5.824 -27.433,9.809 -42.452,11.648c15.326,-9.196 26.973,-23.602 32.49,-40.92c-14.252,8.429 -30.038,14.56 -46.896,17.931c-13.487,-14.406 -32.644,-23.295 -53.946,-23.295c-40.767,0 -73.87,33.104 -73.87,73.87c0,5.824 0.613,11.494 1.992,16.858c-61.456,-3.065 -115.862,-32.49 -152.337,-77.241c-6.284,10.881 -9.962,23.601 -9.962,37.088c0,25.594 13.027,48.276 32.95,61.456c-12.107,-0.307 -23.448,-3.678 -33.41,-9.196l0,0.92c0,35.862 25.441,65.594 59.311,72.49c-6.13,1.686 -12.72,2.606 -19.464,2.606c-4.751,0 -9.348,-0.46 -13.946,-1.38c9.349,29.426 36.628,50.728 68.965,51.341c-25.287,19.771 -57.164,31.571 -91.8,31.571c-5.977,0 -11.801,-0.306 -17.625,-1.073c32.337,21.15 71.264,33.41 112.95,33.41Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Homing Missiles in Godot3 on linkedin"
        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fwww.peanuts-code.com%2fen%2ftutorials%2fgd0008_homing_missiles%2f&amp;title=Homing%20Missiles%20in%20Godot3&amp;summary=Homing%20Missiles%20in%20Godot3&amp;source=https%3a%2f%2fwww.peanuts-code.com%2fen%2ftutorials%2fgd0008_homing_missiles%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Homing Missiles in Godot3 on reddit"
        href="https://reddit.com/submit?url=https%3a%2f%2fwww.peanuts-code.com%2fen%2ftutorials%2fgd0008_homing_missiles%2f&title=Homing%20Missiles%20in%20Godot3">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Homing Missiles in Godot3 on facebook"
        href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.peanuts-code.com%2fen%2ftutorials%2fgd0008_homing_missiles%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Homing Missiles in Godot3 on whatsapp"
        href="https://api.whatsapp.com/send?text=Homing%20Missiles%20in%20Godot3%20-%20https%3a%2f%2fwww.peanuts-code.com%2fen%2ftutorials%2fgd0008_homing_missiles%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Homing Missiles in Godot3 on telegram"
        href="https://telegram.me/share/url?text=Homing%20Missiles%20in%20Godot3&amp;url=https%3a%2f%2fwww.peanuts-code.com%2fen%2ftutorials%2fgd0008_homing_missiles%2f">
        <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28">
            <path
                d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
        </svg>
    </a>
</div>

    <ul class="post-tags">
      <li><a href="https://www.peanuts-code.com/en/tags/godotengine/">GodotEngine</a></li>
      <li><a href="https://www.peanuts-code.com/en/tags/gamedev/">GameDev</a></li>
      <li><a href="https://www.peanuts-code.com/en/tags/godot3/">Godot3</a></li>
      <li><a href="https://www.peanuts-code.com/en/tags/2d/">2D</a></li>
      <li><a href="https://www.peanuts-code.com/en/tags/top-down/">Top-down</a></li>
      <li><a href="https://www.peanuts-code.com/en/tags/shooter/">Shooter</a></li>
      <li><a href="https://www.peanuts-code.com/en/tags/homingmissile/">HomingMissile</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://www.peanuts-code.com/en/tutorials/gd0010_2d_grid_based_movement/">
    <span class="title">« Prev Page</span>
    <br>
    <span>2D Grid-based Movement in Godot3</span>
  </a>
  <a class="next" href="https://www.peanuts-code.com/en/tutorials/gd0007_bullethell/">
    <span class="title">Next Page »</span>
    <br>
    <span>Bullet Hell in Godot3</span>
  </a>
</nav>

    
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://www.peanuts-code.com/en/">Peanuts Code</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    menu.scrollLeft = localStorage.getItem("menu-scroll-position");
    menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
