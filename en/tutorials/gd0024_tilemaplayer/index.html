<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>ü§ñ Making a Tilemap with TileMapLayer | Peanuts Code</title>
<meta name=keywords content="GameDev,GodotEngine,2D,TileMap"><meta name=description content="Introduction
With Godot 4.3, the previously used TileMap class has been deprecated (meaning it won&rsquo;t be updated anymore), and a new TileMapLayer class has been added in its place. So, I&rsquo;m going to actually create a tilemap using TileMapLayer!

My environment at the time of writing

Godot version: 4.3
Computer model: MacBook Air M1, 2020
OS: macOS 14.6.1





Setting the Screen Size
I&rsquo;ll be using 16x16 px tile images this time, so I&rsquo;ll make the Viewport small enough to fit the tiles neatly. After creating a new project, I went to Project Settings > General tab > Window and set the following:

Size:

Viewport Width: 256
Viewport Height: 160
Window Width Override: 1024 (4 times)
Window Height Override: 640 (4 times)



*Window Width Override and Window Height Override can be set after enabling Advanced Settings in the top right of the settings panel.

     


Then I scrolled down a bit in the settings panel and set the stretch mode to viewport so that the game graphics scale to fit the window size. I left the aspect ratio as is."><meta name=author content="gobo"><link rel=canonical href=https://www.peanuts-code.com/en/tutorials/gd0024_tilemaplayer/><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://www.peanuts-code.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.peanuts-code.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.peanuts-code.com/favicon-32x32.png><link rel=apple-touch-icon href=https://www.peanuts-code.com/apple-touch-icon.png><link rel=mask-icon href=https://www.peanuts-code.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=ja href=https://www.peanuts-code.com/ja/tutorials/gd0024_tilemaplayer/><link rel=alternate hreflang=en href=https://www.peanuts-code.com/en/tutorials/gd0024_tilemaplayer/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="ü§ñ Making a Tilemap with TileMapLayer"><meta property="og:description" content="Introduction
With Godot 4.3, the previously used TileMap class has been deprecated (meaning it won&rsquo;t be updated anymore), and a new TileMapLayer class has been added in its place. So, I&rsquo;m going to actually create a tilemap using TileMapLayer!

My environment at the time of writing

Godot version: 4.3
Computer model: MacBook Air M1, 2020
OS: macOS 14.6.1





Setting the Screen Size
I&rsquo;ll be using 16x16 px tile images this time, so I&rsquo;ll make the Viewport small enough to fit the tiles neatly. After creating a new project, I went to Project Settings > General tab > Window and set the following:

Size:

Viewport Width: 256
Viewport Height: 160
Window Width Override: 1024 (4 times)
Window Height Override: 640 (4 times)



*Window Width Override and Window Height Override can be set after enabling Advanced Settings in the top right of the settings panel.

     


Then I scrolled down a bit in the settings panel and set the stretch mode to viewport so that the game graphics scale to fit the window size. I left the aspect ratio as is."><meta property="og:type" content="article"><meta property="og:url" content="https://www.peanuts-code.com/en/tutorials/gd0024_tilemaplayer/"><meta property="og:image" content="https://www.peanuts-code.com/images/tutorials/gd0024/21.png"><meta property="article:section" content="tutorials"><meta property="article:published_time" content="2024-08-23T13:55:22+09:00"><meta property="article:modified_time" content="2024-08-23T13:55:22+09:00"><meta property="og:site_name" content="Peanuts Code ü•ú"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.peanuts-code.com/images/tutorials/gd0024/21.png"><meta name=twitter:title content="ü§ñ Making a Tilemap with TileMapLayer"><meta name=twitter:description content="Introduction
With Godot 4.3, the previously used TileMap class has been deprecated (meaning it won&rsquo;t be updated anymore), and a new TileMapLayer class has been added in its place. So, I&rsquo;m going to actually create a tilemap using TileMapLayer!

My environment at the time of writing

Godot version: 4.3
Computer model: MacBook Air M1, 2020
OS: macOS 14.6.1





Setting the Screen Size
I&rsquo;ll be using 16x16 px tile images this time, so I&rsquo;ll make the Viewport small enough to fit the tiles neatly. After creating a new project, I went to Project Settings > General tab > Window and set the following:

Size:

Viewport Width: 256
Viewport Height: 160
Window Width Override: 1024 (4 times)
Window Height Override: 640 (4 times)



*Window Width Override and Window Height Override can be set after enabling Advanced Settings in the top right of the settings panel.

     


Then I scrolled down a bit in the settings panel and set the stretch mode to viewport so that the game graphics scale to fit the window size. I left the aspect ratio as is."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"ü§ñ Tutorials","item":"https://www.peanuts-code.com/en/tutorials/"},{"@type":"ListItem","position":2,"name":"ü§ñ Making a Tilemap with TileMapLayer","item":"https://www.peanuts-code.com/en/tutorials/gd0024_tilemaplayer/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"ü§ñ Making a Tilemap with TileMapLayer","name":"ü§ñ Making a Tilemap with TileMapLayer","description":"Introduction With Godot 4.3, the previously used TileMap class has been deprecated (meaning it won\u0026rsquo;t be updated anymore), and a new TileMapLayer class has been added in its place. So, I\u0026rsquo;m going to actually create a tilemap using TileMapLayer!\nMy environment at the time of writing Godot version: 4.3\nComputer model: MacBook Air M1, 2020\nOS: macOS 14.6.1\nSetting the Screen Size I\u0026rsquo;ll be using 16x16 px tile images this time, so I\u0026rsquo;ll make the Viewport small enough to fit the tiles neatly. After creating a new project, I went to Project Settings \u0026gt; General tab \u0026gt; Window and set the following:\nSize: Viewport Width: 256 Viewport Height: 160 Window Width Override: 1024 (4 times) Window Height Override: 640 (4 times) *Window Width Override and Window Height Override can be set after enabling Advanced Settings in the top right of the settings panel. Then I scrolled down a bit in the settings panel and set the stretch mode to viewport so that the game graphics scale to fit the window size. I left the aspect ratio as is.\n","keywords":["GameDev","GodotEngine","2D","TileMap"],"articleBody":"Introduction With Godot 4.3, the previously used TileMap class has been deprecated (meaning it won‚Äôt be updated anymore), and a new TileMapLayer class has been added in its place. So, I‚Äôm going to actually create a tilemap using TileMapLayer!\nMy environment at the time of writing Godot version: 4.3\nComputer model: MacBook Air M1, 2020\nOS: macOS 14.6.1\nSetting the Screen Size I‚Äôll be using 16x16 px tile images this time, so I‚Äôll make the Viewport small enough to fit the tiles neatly. After creating a new project, I went to Project Settings \u003e General tab \u003e Window and set the following:\nSize: Viewport Width: 256 Viewport Height: 160 Window Width Override: 1024 (4 times) Window Height Override: 640 (4 times) *Window Width Override and Window Height Override can be set after enabling Advanced Settings in the top right of the settings panel. Then I scrolled down a bit in the settings panel and set the stretch mode to viewport so that the game graphics scale to fit the window size. I left the aspect ratio as is.\nStretch: Mode: viewport Aspect: keep (default) Scale: 1 (default) Scale Mode: fractional (default) Importing Assets for Tiles I downloaded the 1-Bit Pack from KENNEY . It‚Äôs a collection of many 16x16 px tile images. It‚Äôs really easy to use, and I‚Äôm so grateful for it. Thank you very much! I imported the colored-transparent_packed.png from the downloaded asset‚Äôs TileSheet into Godot‚Äôs file system. It‚Äôs now imported.\nCreating a Scene I started by creating a new scene. I used Node2D as the root and named it World. Simple names are easy to understand and work well. Then, I added a TileMapLayer as a child node. This is my main dish for today!\nIn the Inspector, I added a new TileSet resource to the TileMapLayer‚Äôs Tile Set property.\nCreating a TileSet Now I‚Äôll create a tileset in the TileSet editor. By the way, it looks a bit similar to the neighboring TileMap editor, so it‚Äôs easy to get confused. If you‚Äôre wondering ‚ÄúHuh?‚Äù, that‚Äôs probably why. Also, the TileSet and TileMap options won‚Äôt appear in the editor unless you have the TileMapLayer node selected in the Scene dock. This can be puzzling when you‚Äôre not yet familiar with Godot (or maybe it‚Äôs just me).\nAfter opening the TileSet editor, I dragged and dropped the imported tile image from the file system into the empty pane on the far left. A dialog appeared asking if I wanted to automatically create tiles in the atlas. I won‚Äôt use all the tiles, but for convenience, I selected Yes.\nThis created 16x16 px tiles for all areas of the image within the texture region specified in the Inspector. There are various detailed settings, but for now, this gives me a palette ready for drawing.\nDuplicating TileMapLayer Since Godot 4.3 has ‚ÄúLayer‚Äù in the class name, I‚Äôm going to try dividing the tilemap into multiple layers and stacking them. Otherwise, it might be hard to see the difference from the previous TileMap class.\nSo, in the Scene dock, I duplicated the existing TileMapLayer node twice and named each node as follows:\nTileMapGround TileMapGreen TileMapObject This gives me my canvas for drawing.\nCreating the Tilemap TileMapGround I‚Äôll start from the bottom layer. First, the TileMapGround node. I‚Äôll draw the ground on this. I kept the 2D editor displayed at the top and opened the TileMap editor below it. There are four ground-like tiles in the atlas, so I selected multiple of these.\nThen, to place these four tiles randomly, I clicked the dice icon to enable it. When it turns blue, it‚Äôs enabled.\nI also enabled the grid display around the cursor as it makes it easier for me to place tiles.\nI‚Äôll fill the entire screen with ground tiles, so I selected the rectangle tool (what‚Äôs the actual name for this?). I‚Äôm already saying ‚Äúfill‚Äù here. My brain is in drawing mode.\nThen, I dragged from the bottom right corner of the screen size towards the top left corner (0, 0) to select the range, and tiles were placed all at once.\nThe ground tilemap is complete.\nNow, I‚Äôll place some vegetation tiles on TileMapGreen and build some tombstones on TileMapObject. The work procedure should be self-explanatory now (‚Ä¶right?)\nLet‚Äôs move on to TileMapGreen.\nTileMapGreen First, I want to surround the screen‚Äôs perimeter with trees. I‚Äôll randomly place several tree tiles by rolling the dice.\nAlso, I want to grow grass inside the trees, so I‚Äôll select some grass panels and paint while rolling the dice again (lol).\nBy the way, the line tool was useful for placing various trees around the perimeter. It seems good for placing tiles in a thin, long line.\nAfter growing vegetation, it looks like this. Can you see how it overlaps with the ground tiles? (It might be a bit hard to tell?)\nIncidentally, when I made a mistake painting weeds and erased with the eraser tool, the ground tiles of the TileMapGround node below didn‚Äôt disappear. This is really good for people used to tools like Clip Studio Paint or GIMP.\nTileMapObject Finally, I‚Äôll build tombstones on TileMapObject. There are several tombstone tiles, so I‚Äôll select multiple and paint while rolling the dice again.\nThe pen tool is handy for placing tiles at specific points. In terms of drawing techniques, this is like pointillism.\nI‚Äôve built some fine tombstones (well, whether they‚Äôre fine or not, I don‚Äôt know).\nRunning the Project I hadn‚Äôt saved the scene even once‚Ä¶ I ran the project to check the actual game screen. No problems. It‚Äôs complete. Huh? You say you‚Äôve seen this picture somewhere before? Ha ha, you must be joking.\nConclusion This time, I confirmed the basic method of creating a tilemap using the TileMapLayer class introduced in Godot 4.3. The way of editing tilemaps doesn‚Äôt seem to have changed much from the conventional TileMap node. With the conventional TileMap class, you could set layers as information specific to the tilemap, but with TileMapLayer, you can manage nodes in the Scene dock just like other class nodes, which I think has become very intuitive and easy to understand. Since the TileMap class is deprecated, it seems wise to get used to handling the TileMapLayer class in the future. That‚Äôs all for now!\nReferences Godot Docs: TileMapLayer ","wordCount":"1050","inLanguage":"en","image":"https://www.peanuts-code.com/images/tutorials/gd0024/21.png","datePublished":"2024-08-23T13:55:22+09:00","dateModified":"2024-08-23T13:55:22+09:00","author":{"@type":"Person","name":"gobo"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.peanuts-code.com/en/tutorials/gd0024_tilemaplayer/"},"publisher":{"@type":"Organization","name":"Peanuts Code","logo":{"@type":"ImageObject","url":"https://www.peanuts-code.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.peanuts-code.com/en/ accesskey=h title="Peanuts Code (Alt + H)"><img src=https://www.peanuts-code.com/images/logomark.png alt aria-label=logo height=35>Peanuts Code</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://www.peanuts-code.com/ja/ title=Japanese aria-label=üáØüáµÊó•Êú¨Ë™û>üáØüáµÊó•Êú¨Ë™û</a></li></ul></div></div><ul id=menu><li><a href=https://www.peanuts-code.com/en/ title=Home><span>Home</span></a></li><li><a href=https://www.peanuts-code.com/en/portfolio/ title=Works><span>Works</span></a></li><li><a href=https://www.peanuts-code.com/en/posts/ title=Blogs><span>Blogs</span></a></li><li><a href=https://www.peanuts-code.com/en/tutorials/ title=Tutorials><span>Tutorials</span></a></li><li><a href=https://www.peanuts-code.com/en/about/ title=About><span>About</span></a></li><li><a href=https://www.peanuts-code.com/en/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://www.peanuts-code.com/en/>Home</a>&nbsp;¬ª&nbsp;<a href=https://www.peanuts-code.com/en/tutorials/>ü§ñ Tutorials</a></div><h1 class="post-title entry-hint-parent">ü§ñ Making a Tilemap with TileMapLayer</h1><div class=post-meta><span title='2024-08-23 13:55:22 +0900 +0900'>2024-08-23</span>&nbsp;¬∑&nbsp;5 min&nbsp;|&nbsp;Translations:<ul class=i18n_list><li><a href=https://www.peanuts-code.com/ja/tutorials/gd0024_tilemaplayer/>üáØüáµÊó•Êú¨Ë™û</a></li></ul></div><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share ü§ñ Making a Tilemap with TileMapLayer on x" href="https://x.com/intent/tweet/?text=%f0%9f%a4%96%20Making%20a%20Tilemap%20with%20TileMapLayer&amp;url=https%3a%2f%2fwww.peanuts-code.com%2fen%2ftutorials%2fgd0024_tilemaplayer%2f&amp;hashtags=GameDev%2cGodotEngine%2c2D%2cTileMap"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share ü§ñ Making a Tilemap with TileMapLayer on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fwww.peanuts-code.com%2fen%2ftutorials%2fgd0024_tilemaplayer%2f&title=%f0%9f%a4%96%20Making%20a%20Tilemap%20with%20TileMapLayer"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share ü§ñ Making a Tilemap with TileMapLayer on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.peanuts-code.com%2fen%2ftutorials%2fgd0024_tilemaplayer%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li></ul><ul class=post-tags><li><a href=https://www.peanuts-code.com/en/tags/gamedev/>GameDev</a></li><li><a href=https://www.peanuts-code.com/en/tags/godotengine/>GodotEngine</a></li><li><a href=https://www.peanuts-code.com/en/tags/2d/>2D</a></li><li><a href=https://www.peanuts-code.com/en/tags/tilemap/>TileMap</a></li></ul></header><figure class=entry-cover><img loading=eager src=https://www.peanuts-code.com/images/tutorials/gd0024/21.png alt="Creating a Tilemap with TileMapLayer"></figure><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#setting-the-screen-size>Setting the Screen Size</a></li><li><a href=#importing-assets-for-tiles>Importing Assets for Tiles</a></li><li><a href=#creating-a-scene>Creating a Scene</a></li><li><a href=#creating-a-tileset>Creating a TileSet</a></li><li><a href=#duplicating-tilemaplayer>Duplicating TileMapLayer</a></li><li><a href=#creating-the-tilemap>Creating the Tilemap</a><ul><li><a href=#tilemapground>TileMapGround</a></li><li><a href=#tilemapgreen>TileMapGreen</a></li><li><a href=#tilemapobject>TileMapObject</a></li></ul></li><li><a href=#running-the-project>Running the Project</a></li><li><a href=#conclusion>Conclusion</a></li><li><a href=#references>References</a></li></ul></nav></div></details></div><div class=post-content><h2 id=introduction>Introduction</h2><p>With Godot 4.3, the previously used TileMap class has been deprecated (meaning it won&rsquo;t be updated anymore), and a new TileMapLayer class has been added in its place. So, I&rsquo;m going to actually create a tilemap using TileMapLayer!</p><blockquote><p><strong><span style=color:salmon>My environment at the time of writing</span></strong><br>Godot version: <strong>4.3</strong><br>Computer model: <strong>MacBook Air M1, 2020</strong><br>OS: <strong>macOS 14.6.1</strong></p></blockquote><br><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4952908839423901" crossorigin=anonymous></script><p><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-4952908839423901 data-ad-slot=9419515863></ins></p><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><h2 id=setting-the-screen-size>Setting the Screen Size</h2><p>I&rsquo;ll be using 16x16 px tile images this time, so I&rsquo;ll make the Viewport small enough to fit the tiles neatly. After creating a new project, I went to Project Settings > General tab > Window and set the following:</p><ul><li>Size:<ul><li>Viewport Width: 256</li><li>Viewport Height: 160</li><li>Window Width Override: 1024 (4 times)</li><li>Window Height Override: 640 (4 times)</li></ul></li></ul><span style=font-size:.75em;font-weight:600;color:#7a7a7a;margin-bottom:1em;display:inline-block>*Window Width Override and Window Height Override can be set after enabling Advanced Settings in the top right of the settings panel.</span><figure><img loading=lazy src=/images/tutorials/gd0024/01a.png alt="Screen size settings"></figure><p>Then I scrolled down a bit in the settings panel and set the stretch mode to <strong>viewport</strong> so that the game graphics scale to fit the window size. I left the aspect ratio as is.</p><ul><li>Stretch:<ul><li>Mode: viewport</li><li>Aspect: keep (default)</li><li>Scale: 1 (default)</li><li>Scale Mode: fractional (default)</li></ul></li></ul><figure><img loading=lazy src=/images/tutorials/gd0024/01b.png alt="Stretch mode settings"></figure><br><h2 id=importing-assets-for-tiles>Importing Assets for Tiles</h2><p>I downloaded the <strong>1-Bit Pack</strong> from <a href=https://kenney.nl/assets/1-bit-pack target=_blank>KENNEY</a>
. It&rsquo;s a collection of many 16x16 px tile images. It&rsquo;s really easy to use, and I&rsquo;m so grateful for it. Thank you very much! I imported the <strong>colored-transparent_packed.png</strong> from the downloaded asset&rsquo;s TileSheet into Godot&rsquo;s file system. It&rsquo;s now imported.</p><figure><img loading=lazy src=/images/tutorials/gd0024/02.png alt="Importing tileset image"></figure><br><h2 id=creating-a-scene>Creating a Scene</h2><p>I started by creating a new scene. I used <strong>Node2D</strong> as the root and named it World. Simple names are easy to understand and work well. Then, I added a <strong>TileMapLayer</strong> as a child node. This is my main dish for today!</p><figure><img loading=lazy src=/images/tutorials/gd0024/03.png alt="Adding TileMapLayer node"></figure><p>In the Inspector, I added a new TileSet resource to the TileMapLayer&rsquo;s Tile Set property.</p><figure><img loading=lazy src=/images/tutorials/gd0024/04.png alt="Adding new TileSet to TileMapLayer node"></figure><br><h2 id=creating-a-tileset>Creating a TileSet</h2><p>Now I&rsquo;ll create a tileset in the TileSet editor. By the way, it looks a bit similar to the neighboring TileMap editor, so it&rsquo;s easy to get confused. If you&rsquo;re wondering &ldquo;Huh?&rdquo;, that&rsquo;s probably why. Also, the TileSet and TileMap options won&rsquo;t appear in the editor unless you have the TileMapLayer node selected in the Scene dock. This can be puzzling when you&rsquo;re not yet familiar with Godot (or maybe it&rsquo;s just me).</p><p>After opening the TileSet editor, I dragged and dropped the imported tile image from the file system into the empty pane on the far left. A dialog appeared asking if I wanted to automatically create tiles in the atlas. I won&rsquo;t use all the tiles, but for convenience, I selected <strong>Yes</strong>.</p><figure><img loading=lazy src=/images/tutorials/gd0024/05.png alt="Dialog to choose automatic Atlas tile creation"></figure><p>This created 16x16 px tiles for all areas of the image within the texture region specified in the Inspector. There are various detailed settings, but for now, this gives me a palette ready for drawing.</p><figure><img loading=lazy src=/images/tutorials/gd0024/06.png alt="TileSet preparation complete"></figure><br><h2 id=duplicating-tilemaplayer>Duplicating TileMapLayer</h2><p>Since Godot 4.3 has &ldquo;Layer&rdquo; in the class name, I&rsquo;m going to try dividing the tilemap into multiple layers and stacking them. Otherwise, it might be hard to see the difference from the previous TileMap class.</p><p>So, in the Scene dock, I duplicated the existing <strong>TileMapLayer</strong> node twice and named each node as follows:</p><ul><li>TileMapGround</li><li>TileMapGreen</li><li>TileMapObject</li></ul><figure><img loading=lazy src=/images/tutorials/gd0024/07.png alt="Duplicating TileMapLayer"></figure><p>This gives me my canvas for drawing.</p><br><h2 id=creating-the-tilemap>Creating the Tilemap</h2><h3 id=tilemapground>TileMapGround</h3><p>I&rsquo;ll start from the bottom layer. First, the TileMapGround node. I&rsquo;ll draw the ground on this. I kept the 2D editor displayed at the top and opened the TileMap editor below it. There are four ground-like tiles in the atlas, so I selected multiple of these.</p><figure><img loading=lazy src=/images/tutorials/gd0024/08.png alt="Selecting multiple tiles"></figure><p>Then, to place these four tiles randomly, I clicked the dice icon to enable it. When it turns blue, it&rsquo;s enabled.</p><figure><img loading=lazy src=/images/tutorials/gd0024/09.png alt="Dice icon"></figure><p>I also enabled the grid display around the cursor as it makes it easier for me to place tiles.</p><figure><img loading=lazy src=/images/tutorials/gd0024/10.png alt="Grid display"></figure><p>I&rsquo;ll fill the entire screen with ground tiles, so I selected the rectangle tool (what&rsquo;s the actual name for this?). I&rsquo;m already saying &ldquo;fill&rdquo; here. My brain is in drawing mode.</p><figure><img loading=lazy src=/images/tutorials/gd0024/11.png alt="Rectangle tool"></figure><p>Then, I dragged from the bottom right corner of the screen size towards the top left corner (0, 0) to select the range, and tiles were placed all at once.</p><figure><img loading=lazy src=/images/tutorials/gd0024/12.png alt="Painting ground tiles with rectangle tool"></figure><p>The ground tilemap is complete.</p><figure><img loading=lazy src=/images/tutorials/gd0024/13.png alt="Completed ground tilemap"></figure><p>Now, I&rsquo;ll place some vegetation tiles on TileMapGreen and build some tombstones on TileMapObject. The work procedure should be self-explanatory now (&mldr;right?)</p><p>Let&rsquo;s move on to TileMapGreen.</p><h3 id=tilemapgreen>TileMapGreen</h3><p>First, I want to surround the screen&rsquo;s perimeter with trees. I&rsquo;ll randomly place several tree tiles by rolling the dice.</p><figure><img loading=lazy src=/images/tutorials/gd0024/14.png alt="Selecting tree tilemap"></figure><p>Also, I want to grow grass inside the trees, so I&rsquo;ll select some grass panels and paint while rolling the dice again (lol).</p><figure><img loading=lazy src=/images/tutorials/gd0024/15.png alt="Selecting grass tilemap"></figure><p>By the way, the line tool was useful for placing various trees around the perimeter. It seems good for placing tiles in a thin, long line.</p><figure><img loading=lazy src=/images/tutorials/gd0024/16.png alt="Line tool"></figure><p>After growing vegetation, it looks like this. Can you see how it overlaps with the ground tiles? (It might be a bit hard to tell?)</p><figure><img loading=lazy src=/images/tutorials/gd0024/17.png alt="Completed vegetation tilemap"></figure><p>Incidentally, when I made a mistake painting weeds and erased with the eraser tool, the ground tiles of the TileMapGround node below didn&rsquo;t disappear. This is really good for people used to tools like Clip Studio Paint or GIMP.</p><h3 id=tilemapobject>TileMapObject</h3><p>Finally, I&rsquo;ll build tombstones on TileMapObject. There are several tombstone tiles, so I&rsquo;ll select multiple and paint while rolling the dice again.</p><figure><img loading=lazy src=/images/tutorials/gd0024/18.png alt="Selecting tombstone tilemap"></figure><p>The pen tool is handy for placing tiles at specific points. In terms of drawing techniques, this is like pointillism.</p><figure><img loading=lazy src=/images/tutorials/gd0024/19.png alt="Pen tool"></figure><p>I&rsquo;ve built some fine tombstones (well, whether they&rsquo;re fine or not, I don&rsquo;t know).</p><figure><img loading=lazy src=/images/tutorials/gd0024/20.png alt="Completed tombstone tilemap"></figure><br><h2 id=running-the-project>Running the Project</h2><p>I hadn&rsquo;t saved the scene even once&mldr; I ran the project to check the actual game screen. No problems. It&rsquo;s complete. Huh? You say you&rsquo;ve seen this picture somewhere before? Ha ha, you must be joking.</p><figure><img loading=lazy src=/images/tutorials/gd0024/21.png alt="Running the completed project"></figure><br><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4952908839423901" crossorigin=anonymous></script><p><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-4952908839423901 data-ad-slot=9419515863></ins></p><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><h2 id=conclusion>Conclusion</h2><p>This time, I confirmed the basic method of creating a tilemap using the TileMapLayer class introduced in Godot 4.3. The way of editing tilemaps doesn&rsquo;t seem to have changed much from the conventional TileMap node. With the conventional TileMap class, you could set layers as information specific to the tilemap, but with TileMapLayer, you can manage nodes in the Scene dock just like other class nodes, which I think has become very intuitive and easy to understand. Since the TileMap class is deprecated, it seems wise to get used to handling the TileMapLayer class in the future. That&rsquo;s all for now!</p><br><h2 id=references>References</h2><ul><li><a href=https://docs.godotengine.org/en/stable/classes/class_tilemaplayer.html target=_blank>Godot Docs: TileMapLayer</a></li></ul></div><footer class=post-footer><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share ü§ñ Making a Tilemap with TileMapLayer on x" href="https://x.com/intent/tweet/?text=%f0%9f%a4%96%20Making%20a%20Tilemap%20with%20TileMapLayer&amp;url=https%3a%2f%2fwww.peanuts-code.com%2fen%2ftutorials%2fgd0024_tilemaplayer%2f&amp;hashtags=GameDev%2cGodotEngine%2c2D%2cTileMap"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share ü§ñ Making a Tilemap with TileMapLayer on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fwww.peanuts-code.com%2fen%2ftutorials%2fgd0024_tilemaplayer%2f&title=%f0%9f%a4%96%20Making%20a%20Tilemap%20with%20TileMapLayer"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share ü§ñ Making a Tilemap with TileMapLayer on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.peanuts-code.com%2fen%2ftutorials%2fgd0024_tilemaplayer%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li></ul><ul class=post-tags><li><a href=https://www.peanuts-code.com/en/tags/gamedev/>GameDev</a></li><li><a href=https://www.peanuts-code.com/en/tags/godotengine/>GodotEngine</a></li><li><a href=https://www.peanuts-code.com/en/tags/2d/>2D</a></li><li><a href=https://www.peanuts-code.com/en/tags/tilemap/>TileMap</a></li></ul><nav class=paginav><a class=prev href=https://www.peanuts-code.com/en/tutorials/gd0010_2d_grid_based_movement/><span class=title>¬´ Prev</span><br><span>ü§ñ 2D Grid-Based Movement</span>
</a><a class=next href=https://www.peanuts-code.com/en/tutorials/gd0023_distribute_app_from_xcode/><span class=title>Next ¬ª</span><br><span>ü§ñ Distributing Games from Xcode to App Store Connect</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://www.peanuts-code.com/en/>Peanuts Code</a></span> ¬∑
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>