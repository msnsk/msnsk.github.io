<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>ü§ñ 2D Screen Shake in Godot3 | Peanuts Code</title>
<meta name=keywords content="GameDev,GodotEngine,2D,ScreenShake"><meta name=description content="In this article, I will explain how to implement an effect, &ldquo;screen shake&rdquo;, in 2D games. It is not an absolutely necessary element of a game, but if used well, it can make the player&rsquo;s game experience more interactive and directly affect the user experience. For example, there are many situations where it could be used, such as when a player fires a gun, takes damage from enemies, or falls from a high place.
By the way, this kind of element that is not necessary but makes the game more interesting by adding it is called &ldquo;game juice&rdquo; in English. I have one more vocabulary in English, and I am a little wiser now.
There are already many resources on the Web that explain how to implement screen shake, and of course there are methods other than those introduced here. This time, we refer to the following video and article in particular, so please check them as well for a deeper understanding.

Reference

YouTube: GDC - Math for Game Programmers: Juicing Your Cameras With Math

KidsCanCode: SCREEN SHAKE
"><meta name=author content="gobo"><link rel=canonical href=https://www.peanuts-code.com/en/tutorials/gd0014_screen_shake/><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://www.peanuts-code.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.peanuts-code.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.peanuts-code.com/favicon-32x32.png><link rel=apple-touch-icon href=https://www.peanuts-code.com/apple-touch-icon.png><link rel=mask-icon href=https://www.peanuts-code.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=ja href=https://www.peanuts-code.com/ja/tutorials/gd0014_screen_shake/><link rel=alternate hreflang=en href=https://www.peanuts-code.com/en/tutorials/gd0014_screen_shake/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://www.peanuts-code.com/en/tutorials/gd0014_screen_shake/"><meta property="og:site_name" content="Peanuts Code"><meta property="og:title" content="ü§ñ 2D Screen Shake in Godot3"><meta property="og:description" content="In this article, I will explain how to implement an effect, ‚Äúscreen shake‚Äù, in 2D games. It is not an absolutely necessary element of a game, but if used well, it can make the player‚Äôs game experience more interactive and directly affect the user experience. For example, there are many situations where it could be used, such as when a player fires a gun, takes damage from enemies, or falls from a high place.
By the way, this kind of element that is not necessary but makes the game more interesting by adding it is called ‚Äúgame juice‚Äù in English. I have one more vocabulary in English, and I am a little wiser now.
There are already many resources on the Web that explain how to implement screen shake, and of course there are methods other than those introduced here. This time, we refer to the following video and article in particular, so please check them as well for a deeper understanding.
Reference YouTube: GDC - Math for Game Programmers: Juicing Your Cameras With Math KidsCanCode: SCREEN SHAKE "><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="tutorials"><meta property="article:published_time" content="2022-07-28T14:10:56+09:00"><meta property="article:modified_time" content="2022-07-28T14:10:56+09:00"><meta property="article:tag" content="GameDev"><meta property="article:tag" content="GodotEngine"><meta property="article:tag" content="2D"><meta property="article:tag" content="ScreenShake"><meta property="og:image" content="https://www.peanuts-code.com/images/tutorials/gd0014_screen_shake/img0.gif"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.peanuts-code.com/images/tutorials/gd0014_screen_shake/img0.gif"><meta name=twitter:title content="ü§ñ 2D Screen Shake in Godot3"><meta name=twitter:description content="In this article, I will explain how to implement an effect, &ldquo;screen shake&rdquo;, in 2D games. It is not an absolutely necessary element of a game, but if used well, it can make the player&rsquo;s game experience more interactive and directly affect the user experience. For example, there are many situations where it could be used, such as when a player fires a gun, takes damage from enemies, or falls from a high place.
By the way, this kind of element that is not necessary but makes the game more interesting by adding it is called &ldquo;game juice&rdquo; in English. I have one more vocabulary in English, and I am a little wiser now.
There are already many resources on the Web that explain how to implement screen shake, and of course there are methods other than those introduced here. This time, we refer to the following video and article in particular, so please check them as well for a deeper understanding.

Reference

YouTube: GDC - Math for Game Programmers: Juicing Your Cameras With Math

KidsCanCode: SCREEN SHAKE
"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"ü§ñ Tutorials","item":"https://www.peanuts-code.com/en/tutorials/"},{"@type":"ListItem","position":2,"name":"ü§ñ 2D Screen Shake in Godot3","item":"https://www.peanuts-code.com/en/tutorials/gd0014_screen_shake/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"ü§ñ 2D Screen Shake in Godot3","name":"ü§ñ 2D Screen Shake in Godot3","description":"In this article, I will explain how to implement an effect, \u0026ldquo;screen shake\u0026rdquo;, in 2D games. It is not an absolutely necessary element of a game, but if used well, it can make the player\u0026rsquo;s game experience more interactive and directly affect the user experience. For example, there are many situations where it could be used, such as when a player fires a gun, takes damage from enemies, or falls from a high place.\nBy the way, this kind of element that is not necessary but makes the game more interesting by adding it is called \u0026ldquo;game juice\u0026rdquo; in English. I have one more vocabulary in English, and I am a little wiser now.\nThere are already many resources on the Web that explain how to implement screen shake, and of course there are methods other than those introduced here. This time, we refer to the following video and article in particular, so please check them as well for a deeper understanding.\nReference YouTube: GDC - Math for Game Programmers: Juicing Your Cameras With Math KidsCanCode: SCREEN SHAKE ","keywords":["GameDev","GodotEngine","2D","ScreenShake"],"articleBody":"In this article, I will explain how to implement an effect, ‚Äúscreen shake‚Äù, in 2D games. It is not an absolutely necessary element of a game, but if used well, it can make the player‚Äôs game experience more interactive and directly affect the user experience. For example, there are many situations where it could be used, such as when a player fires a gun, takes damage from enemies, or falls from a high place.\nBy the way, this kind of element that is not necessary but makes the game more interesting by adding it is called ‚Äúgame juice‚Äù in English. I have one more vocabulary in English, and I am a little wiser now.\nThere are already many resources on the Web that explain how to implement screen shake, and of course there are methods other than those introduced here. This time, we refer to the following video and article in particular, so please check them as well for a deeper understanding.\nReference YouTube: GDC - Math for Game Programmers: Juicing Your Cameras With Math KidsCanCode: SCREEN SHAKE The project file that will be created at the end of this tutorial is located in the GitHub repository . You can also check the project directly by downloading the .zip file and importing the ‚Äúproject.godot‚Äù file in the ‚ÄúEnd‚Äù folder with the Godot Engine.\nEnvironment „ÉªGodot version: 3.4.4\n„ÉªComputer OS version: macOS 11.6.5\nPreparation Creating a new project Start Godot Engine and create a new project. You can name your project as you like. If you can‚Äôt think of one, let‚Äôs call it ‚ÄúScreen Shake‚Äù.\nUpdating project settings Once the editor appears, we should update project settings for the entire project.\nFirst, set the display size of the game. In this case, we will use a ratio of 9:16, with 16 px as the base value.\nOpen the ‚ÄúProject‚Äù menu \u003e ‚ÄúProject Settings‚Äù.\nIn the ‚ÄúGeneral‚Äù tab, search for ‚Äúwindow‚Äù and select ‚ÄúDisplay‚Äù \u003e ‚ÄúWindow‚Äù in the sidebar.\nIn the ‚ÄúSize‚Äù section, change the values of the following items\nWidth: 256 Height: 144 Test Width: 512 Test Height: 288\nIn the ‚ÄúStretch‚Äù section, change the values of the following items\nMode: 2d Aspect: keep\nSwitch to the ‚ÄúInput Map‚Äù tab and add ‚Äúshake‚Äù to the action.\nAssign the ‚Äúspace‚Äù key to the ‚Äúshake‚Äù action.\nDownloading and importing assets Next, let‚Äôs download assets from KENNEY‚Äôs site and use them. This time, we will use an asset pack called ‚ÄúTiny Dungeon ‚Äù. I will use the tileset included in this asset. I can‚Äôt help but be grateful for this wonderful free material.\nOnce downloaded, drag ‚Äú/kenney_tinydungeon/Tilemap/tilemap_packed.png‚Äù to the file system dock and import it into your project.\nImmediately after importing the file, the image will look blurry, so correct this by following the steps below.\nMake the imported asset file selected in the file system dock Select ‚ÄúPreset‚Äù \u003e ‚Äú2D Pixel‚Äù in the import dock.\nClick the ‚ÄúReimport‚Äù button at the bottom.\nThe image should now have the edges characteristic of pixel art. The imported tileset will be used later when creating the tile map.\nTranslated with www.DeepL.com/Translator (free version)\nCreating Camera scene Creating a new scene First, let‚Äôs create a Camera scene.\nSelect ‚ÄúScene‚Äù menu \u003e ‚ÄúNew Scene‚Äù.\nSelect the ‚ÄúCamera2D‚Äù class node as root node and rename it to ‚ÄúCamera‚Äù.\nSave the scene at this point. Create a folder and save the scene with the file path ‚Äúres://Camera/Camera.tscn‚Äù.\nThe scene tree has no child nodes, so the scene dock should have only the ‚ÄúCamera‚Äù node as follows.\nEditing the properties of the Camera node Continue to make the following edits in the inspector:\nSet the ‚ÄúCurrent‚Äù property to On.\nSet the ‚ÄúLimit‚Äù property to the display size.\nAttaching and editing a script to a Camera node. Attach a new script to the Camera node. Create a script file with the file path ‚Äúres://Camera/Camera.tscn‚Äù.\nThis time, we will implement two types of shaking: ‚Äúrough shake‚Äù and ‚Äúsmooth shake‚Äù. First, let‚Äôs start with ‚Äúrough shake‚Äù whose code is relatively simple.\nThe script should contain the following code.\n###Camera.gd### extends Camera2D # Shaking intensity (from 0.0 to 1.0) var trauma = 0.0 # Exponent for power of shaking strength var trauma_power = 2 # Put the shaking strength trauma as a power exponent trauma_power var amount = 0.0 # Shaking intensity that decays in 1 second # Note that if it is less than 0.0, the shaking will last forever var decay = 0.8 # Maximum shaking width # Hold each value in x-axis direction and y-axis direction as one data in Vector2 type var max_offset = Vector2(36, 64) # display ratio is 16 : 9 # Maximum angle of rotation (in radians) var max_roll = 0.1 # Built-in function called first when node is loaded func _ready(): # Randomize seed values for functions that return random values # Required since the same seed value will result in the same number of values obtained randomize(). # Built-in process function called every frame func _process(delta): # If trauma is greater than 0 if trauma: # Decay the intensity of the shaking trauma = max(trauma - decay * delta, 0) # Call a method to set the shaking width and rotation angle for rough shake # Call this method every frame to express screen shake rough_shake() # Define after this # Method to set the shake width and rotation angle of rough shake func rough_shake(): # Amount is a cumulative value of the shaking intensity # pow() function raises the first argument to the power of the second argument as an exponent # The closer the intensity of the shaking to 0, the smaller the value becomes when powered # Example: 1.0 * 1.0 = 1.0, 0.5 * 0.5 = 0.25, 0.1 * 0.1 = 0.01 amount = pow(trauma, trauma_power) # rotation angle = max_roll * amount * trauma power * random value from -1 to 1 rotation = max_roll * amount * rand_range(-1, 1) # x-axis swing width = maximum swing width in x-axis direction * swing strength multiplied by power * random value between -1 and 1 offset.x = max_offset.x * amount * rand_range(-1, 1) # y-axis amplitude = max_offset.x * amount * rand_range(-1, 1) * random value between -1 and 1 offset.y = max_offset.y * amount * rand_range(-1, 1) # Methods to set trauma func set_shake(add_trauma = 0.5): # Add the value of the argument add_trauma to the current trauma value # Set trauma to 1.0 if it is greater than or equal to 1.0 trauma = min(trauma + add_trauma, 1.0) # Built-in functions to handle input func _unhandled_input(event): # If we press the action \"shake\" key on the input map if event.is_action_pressed(\"shake\"): # Call a method to set trauma set_shake() The ‚Äúrough screen shake‚Äù script is now complete.\nCreating World scene World Create a new scene and add the necessary nodes. The Camera scene alone does not show the shaking because there is no image. To check the shaking, we will create a World scene and prepare an instance of the Camera scene and a node that will serve as the background.\nSelect ‚ÄúScene‚Äù menu \u003e ‚ÄúNew Scene‚Äù. Select ‚ÄúNode2D‚Äù as the root node and rename it to ‚ÄúWorld‚Äù. Save the scene with the file path ‚Äúres://World/World.tscn‚Äù.\nThen add nodes so that the World scene becomes the following scene tree.\nWorld (Node2D) Camera (Camera2D„ÄÅinstance of Camera scene) TileMap Editing the TileMap node Let‚Äôs quickly create a tile map for the background.\nApply a new tileset resource to the ‚ÄúTile Set‚Äù property of the ‚ÄúTileMap‚Äù node.\nOpen the Tile Set panel, drag the ‚Äúres://Assets/tilemap_packed.png‚Äù resource file downloaded from KENNEY to the left side, and set tiles appropriately with a single tile or atlas.\nSelect ‚ÄúTileMap‚Äù in the scene dock to create a tile map. The area should slightly exceed the display size.\nTesting ‚Äúrough shake‚Äù Finally, run the project to test the ‚Äúrough shake‚Äù. If you are running the project for the first time, select ‚ÄúWorld.tscn‚Äù as the main scene of the project.\nPress the space key to shake the screen. Wait a little and press it, or press it continuously without a pause to check the behavior.\nYour browser does not support the video tag. There is no particular discomfort, and it looks reasonably good. However, compared to the smooth shake that will be implemented later, it should look a bit rough.\nAdding ‚Äúsmooth shake‚Äù code to the script for the Camera node From here, we will implement the ‚Äúsmooth shake‚Äù. Return to the Camera scene and add the code to the attached ‚ÄúCamera.gd‚Äù script.\nsmooth shake uses the following image called noise.\nThe noise image has a random distribution of white, gray, and black. The noise value varies from -1 to 1, with -1 for black, 1 for white, and 0 for intermediate gray. The idea is to specify the coordinates of a pixel on the noise, get the noise value of that pixel, and apply it to screen shake.\nGodot provides a class (resource) called OpenSimplexNoise. You can create a new class in your script and use the get_noise_2d method, which is built into the class of this resource, to obtain the noise value at the specified coordinates by passing x-coordinate and y-coordinate as arguments. This time, the x-coordinate passed as the argument is specified randomly, the y-coordinate is shifted by 1 pixel, the noise value is obtained, and it is multiplied by the calculation of the shaking width to reproduce smooth shake.\nBy the way, you may intuitively understand how the noise changes when you change some parameters that compose the noise by trying various things on the following demo page using Godot‚Äôs OpenSimplexNoise.\nReference OpenSimplexNoise Viewer The noise may seem a bit complicated, but let‚Äôs write a script for a start. In addition, we will make it possible to switch between ‚Äúrough shake‚Äù and ‚Äúsmooth shake‚Äù.\n###Camera.gd### extends Camera2D # Define the type of screen shake with enum enum { ROUGH, # for rough shake SMOOTH # for smooth shake } ## Common properties var type = ROUGH # Type of screen shake (default is rough shake) var trauma = 0.0 var trauma_power = 2 var amount = 0.0 ## rough shake properties var decay = 0.8 var max_offset = Vector2(36, 64) var max_roll = 0.1 ## smooth shake property var noise_y = 0 # y-coordinate of noise onready var noise = OpenSimplexNoise.new() # Instance of noise func _ready(): randomize(). ## Use following 3 variables for smooth shake # Value that determines the noise's unique random appearance (assign a random integer) # If the seed value changes, the placement of the white to black dots in the noise will also change noise.seed = randi() # Number of layers to create noise (in this case 2) # The higher the value, the more layers of gray between black and white, the more detailed the noise noise.octaves = 2 # Period of the noise (let's say 4) # The smaller the value, the higher the noise frequency noise.period = 4 func _process(delta): if trauma: trauma = max(trauma - decay * delta, 0) # If the type is rough shake if type == ROUGH: # Call methods to set the shake width and rotation angle for rough shake rough_shake() # If the type is smooth shake elif type == SMOOTH: # Call methods to set the shake width and rotation angle for smooth shake smooth_shake() func rough_shake(): amount = pow(trauma, trauma_power) rotation = max_roll * amount * rand_range(-1, 1) offset.x = max_offset.x * amount * rand_range(-1, 1) offset.y = max_offset.y * amount * rand_range(-1, 1) # Methods to set the shaking width and rotation angle for smooth shake func smooth_shake(): # Amount is the trauma multiplied by a power amount = pow(trauma, trauma_power) # Increase the y-coordinate of the noise by 1 pixel noise_y += 1 # Get a random rotation angle using the noise value obtained from the noise seed value as x-coordinate rotation = max_roll * amount * noise.get_noise_2d(noise.seed, noise_y) # Get a random x-axis swing width using the noise value obtained by multiplying the noise seed value √ó 2 by the x-coordinate # 2 multiplied by the seed value is an appropriate number to get a noise value different from the rotation angle or y-axis swing width offset.x = max_offset.x * amount * noise.get_noise_2d(noise.seed * 2, noise_y) # Get random y-axis shaking width using noise seed value x 3 obtained as x-coordinate # 3 multiplied by the seed value is an appropriate number to get a noise value that is different from the rotation angle and the x-axis wobble width offset.y = max_offset.y * amount * noise.get_noise_2d(noise.seed * 3, noise_y) func set_shake(add_trauma = 0.5): trauma = min(trauma + add_trauma, 1.0) func _unhandled_input(event): if event.is_action_pressed(\"shake\"): set_shake() # Toggle screen shake type when right or left arrow key is pressed if event.is_action_pressed(\"ui_right\")\\ or event.is_action_pressed(\"ui_left\"): # if the current screen shake type is rough shake if type == ROUGH: # change to smooth shake type = SMOOTH # if current screen shake type is smooth shake else: # change to rough shake setting type = ROUGH Adding nodes to the World scene Add a ‚ÄúCanvasLayer‚Äù node and its child ‚ÄúLabel‚Äù node to the World scene tree to make it easier to see which type of screen shake is being used on the screen. The name of the ‚ÄúLabel‚Äù node is ‚ÄúTypeLabel‚Äù.\nWith the ‚ÄúTypeLabel‚Äù node selected, enter ‚ÄúROUGH‚Äù as the initial value for the ‚ÄúText‚Äù property in the inspector.\nIn the ‚ÄúTheme Overrides‚Äù \u003e ‚ÄúColor‚Äù \u003e ‚ÄúFont Color‚Äù property, set the font color to #000000 (black).\nSelect ‚ÄúCenter‚Äù from the ‚ÄúLayout‚Äù on the 2D workspace toolbar and center the ‚ÄúTypeLabel‚Äù node.\nAttach the script to the ‚ÄúWorld‚Äù root node and save the file path as ‚Äúres://World/World.gd‚Äù. In the script, write the following code for the operation to switch the type of screen shake.\n###World.gd### onready var type_label = $CanvasLayer/TypeLabel func _unhandled_input(event): if event.is_action_pressed(\"ui_right\")\\ or event.is_action_pressed(\"ui_left\"): if type_label.text == \"ROUGH\": type_label.text = \"SMOOTH\" else: type_label.text = \"ROUGH\" The left and right arrow keys can now be used to switch between ROUGH (rough shake) and SMOOTH (smooth shake).\nTest ‚Äúsmooth shake‚Äù and compare with ‚Äúrough shake‚Äù Finally, let‚Äôs run the project again to check the behavior of the ‚Äúsmooth shake‚Äù and compare it with the ‚Äúrough shake‚Äù while switching the shaking type.\nYour browser does not support the video tag. This completes the implementation of screen shake. I hope you could feel the difference. It may seem like a small difference, but if you are concerned about the presentation of the game, you will want to use the appropriate shaking for the scene.\nSample projects In addition, we have prepared a separate project that makes it easier to visually understand the state of screen shake. Please try it if you like.\nYour browser does not support the video tag. The sample project file is located in the GitHub repository . Please download the .zip file from there. You can check it by importing the ‚Äúproject.godot‚Äù file in the ‚ÄúSample‚Äù folder with the Godot Engine.\nThe specifications of the sample project are as follows.\nGauge amount and trauma properties. Add a character that can be moved up, down, left, or right by keyboard operation. D key: right A key: left W key: Up S key: Down Adding multiple spikes on the ground that cause the screen to shake when a character steps on them. Adding a value to the trauma is increased by 0.1 with the up arrow key and decreased by 0.1 with the down arrow key (maximum 1.0, minimum 0.0). Display ‚ÄúROUGH‚Äù and ‚ÄúSMOOTH‚Äù shaking types in the upper left corner. Use the left and right arrow keys to toggle between ‚ÄúROUGH‚Äù and ‚ÄúSMOOTH‚Äù shaking. Space key also generates screen shake. Conclusion In this article, we introduced the implementation of screen shake in 2D. Although the game genre and scene may vary, there will be many opportunities to apply screen shake. If you understand how to change the parameters that constitute screen shake, you should be able to express screen shake in a way that best suits the purpose of use.\nReferences KENNEY - Assets Godot demo projects - OpenSimplexNoise KidsCanCode: SCREEN SHAKE YouTube: Math for Game Programmers: Juicing Your Cameras With Math YouTube: Godot Game Juice Tutorial 1: Camera Shake and Frame Freeze Coding Kaiju - Screen Shake in Godot: The Best Way ","wordCount":"2752","inLanguage":"en","image":"https://www.peanuts-code.com/images/tutorials/gd0014_screen_shake/img0.gif","datePublished":"2022-07-28T14:10:56+09:00","dateModified":"2022-07-28T14:10:56+09:00","author":{"@type":"Person","name":"gobo"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.peanuts-code.com/en/tutorials/gd0014_screen_shake/"},"publisher":{"@type":"Organization","name":"Peanuts Code","logo":{"@type":"ImageObject","url":"https://www.peanuts-code.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.peanuts-code.com/en/ accesskey=h title="Peanuts Code (Alt + H)"><img src=https://www.peanuts-code.com/images/logomark.png alt aria-label=logo height=35>Peanuts Code</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://www.peanuts-code.com/ja/ title=Japanese aria-label=üáØüáµÊó•Êú¨Ë™û>üáØüáµÊó•Êú¨Ë™û</a></li></ul></div></div><ul id=menu><li><a href=https://www.peanuts-code.com/en/ title=Home><span>Home</span></a></li><li><a href=https://www.peanuts-code.com/en/portfolio/ title=Works><span>Works</span></a></li><li><a href=https://www.peanuts-code.com/en/posts/ title=Blogs><span>Blogs</span></a></li><li><a href=https://www.peanuts-code.com/en/tutorials/ title=Tutorials><span>Tutorials</span></a></li><li><a href=https://www.peanuts-code.com/en/about/ title=About><span>About</span></a></li><li><a href=https://www.peanuts-code.com/en/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://www.peanuts-code.com/en/>Home</a>&nbsp;¬ª&nbsp;<a href=https://www.peanuts-code.com/en/tutorials/>ü§ñ Tutorials</a></div><h1 class="post-title entry-hint-parent">ü§ñ 2D Screen Shake in Godot3</h1><div class=post-meta><span title='2022-07-28 14:10:56 +0900 +0900'>2022-07-28</span>&nbsp;¬∑&nbsp;6 min&nbsp;|&nbsp;Translations:<ul class=i18n_list><li><a href=https://www.peanuts-code.com/ja/tutorials/gd0014_screen_shake/>üáØüáµÊó•Êú¨Ë™û</a></li></ul></div><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share ü§ñ 2D Screen Shake in Godot3 on x" href="https://x.com/intent/tweet/?text=%f0%9f%a4%96%202D%20Screen%20Shake%20in%20Godot3&amp;url=https%3a%2f%2fwww.peanuts-code.com%2fen%2ftutorials%2fgd0014_screen_shake%2f&amp;hashtags=GameDev%2cGodotEngine%2c2D%2cScreenShake"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share ü§ñ 2D Screen Shake in Godot3 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fwww.peanuts-code.com%2fen%2ftutorials%2fgd0014_screen_shake%2f&title=%f0%9f%a4%96%202D%20Screen%20Shake%20in%20Godot3"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share ü§ñ 2D Screen Shake in Godot3 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.peanuts-code.com%2fen%2ftutorials%2fgd0014_screen_shake%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li></ul><ul class=post-tags><li><a href=https://www.peanuts-code.com/en/tags/gamedev/>GameDev</a></li><li><a href=https://www.peanuts-code.com/en/tags/godotengine/>GodotEngine</a></li><li><a href=https://www.peanuts-code.com/en/tags/2d/>2D</a></li><li><a href=https://www.peanuts-code.com/en/tags/screenshake/>ScreenShake</a></li></ul></header><figure class=entry-cover><img loading=eager src=https://www.peanuts-code.com/images/tutorials/gd0014_screen_shake/img0.gif alt="2D Screen Shake in Godot"></figure><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#preparation>Preparation</a><ul><li><a href=#creating-a-new-project>Creating a new project</a></li><li><a href=#updating-project-settings>Updating project settings</a></li><li><a href=#downloading-and-importing-assets>Downloading and importing assets</a></li></ul></li><li><a href=#creating-camera-scene>Creating Camera scene</a><ul><li><a href=#creating-a-new-scene>Creating a new scene</a></li><li><a href=#editing-the-properties-of-the-camera-node>Editing the properties of the Camera node</a></li><li><a href=#attaching-and-editing-a-script-to-a-camera-node>Attaching and editing a script to a Camera node.</a></li></ul></li><li><a href=#creating-world-scene>Creating World scene</a><ul><li><a href=#world-create-a-new-scene-and-add-the-necessary-nodes>World Create a new scene and add the necessary nodes.</a></li><li><a href=#editing-the-tilemap-node>Editing the TileMap node</a></li><li><a href=#testing-rough-shake>Testing &ldquo;rough shake&rdquo;</a></li></ul></li><li><a href=#adding-smooth-shake-code-to-the-script-for-the-camera-node>Adding &ldquo;smooth shake&rdquo; code to the script for the Camera node</a><ul><li><a href=#adding-nodes-to-the-world-scene>Adding nodes to the World scene</a></li><li><a href=#test-smooth-shake-and-compare-with-rough-shake>Test &ldquo;smooth shake&rdquo; and compare with &ldquo;rough shake&rdquo;</a></li></ul></li><li><a href=#sample-projects>Sample projects</a></li><li><a href=#conclusion>Conclusion</a></li><li><a href=#references>References</a></li></ul></nav></div></details></div><div class=post-content><p>In this article, I will explain how to implement an effect, &ldquo;screen shake&rdquo;, in 2D games. It is not an absolutely necessary element of a game, but if used well, it can make the player&rsquo;s game experience more interactive and directly affect the user experience. For example, there are many situations where it could be used, such as when a player fires a gun, takes damage from enemies, or falls from a high place.</p><p>By the way, this kind of element that is not necessary but makes the game more interesting by adding it is called &ldquo;game juice&rdquo; in English. I have one more vocabulary in English, and I am a little wiser now.</p><p>There are already many resources on the Web that explain how to implement screen shake, and of course there are methods other than those introduced here. This time, we refer to the following video and article in particular, so please check them as well for a deeper understanding.</p><blockquote><p><strong><span style=color:salmon>Reference</span></strong><br><em><a href=https://youtu.be/tu-Qe66AvtY target=_blank>YouTube: GDC - Math for Game Programmers: Juicing Your Cameras With Math</a></em><br><em><a href=https://kidscancode.org/godot_recipes/2d/screen_shake/ target=_blank>KidsCanCode: SCREEN SHAKE</a></em></p></blockquote><br><p>The project file that will be created at the end of this tutorial is located in the <a href=https://github.com/msnsk/ScreenShake2D.git target=_blank>GitHub repository</a>
. You can also check the project directly by downloading the .zip file and importing the &ldquo;project.godot&rdquo; file in the &ldquo;End&rdquo; folder with the Godot Engine.<br><br></p><blockquote><p><strong><span style=color:salmon>Environment</span></strong><br>„Éª<em>Godot version: <strong>3.4.4</strong></em><br>„Éª<em>Computer OS version: <strong>macOS 11.6.5</strong></em></p></blockquote><br><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4952908839423901" crossorigin=anonymous></script><p><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-4952908839423901 data-ad-slot=9419515863></ins></p><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><hr><h2 id=preparation>Preparation</h2><h3 id=creating-a-new-project>Creating a new project</h3><p>Start Godot Engine and create a new project. You can name your project as you like. If you can&rsquo;t think of one, let&rsquo;s call it &ldquo;Screen Shake&rdquo;.</p><br><h3 id=updating-project-settings>Updating project settings</h3><p>Once the editor appears, we should update project settings for the entire project.</p><p>First, set the display size of the game. In this case, we will use a ratio of 9:16, with 16 px as the base value.</p><ol><li><p>Open the &ldquo;Project&rdquo; menu > &ldquo;Project Settings&rdquo;.</p></li><li><p>In the &ldquo;General&rdquo; tab, search for &ldquo;window&rdquo; and select &ldquo;Display&rdquo; > &ldquo;Window&rdquo; in the sidebar.</p></li><li><p>In the &ldquo;Size&rdquo; section, change the values of the following items</p><ul><li>Width: 256</li><li>Height: 144</li><li>Test Width: 512</li><li>Test Height: 288<br><img alt="project settings - Display - Window - Size" loading=lazy src=/images/tutorials/gd0014_screen_shake/img1.png></li></ul></li><li><p>In the &ldquo;Stretch&rdquo; section, change the values of the following items</p><ul><li>Mode: 2d</li><li>Aspect: keep<br><img alt="project settings - Display - Window - Stretch" loading=lazy src=/images/tutorials/gd0014_screen_shake/img2.png></li></ul></li><li><p>Switch to the &ldquo;Input Map&rdquo; tab and add &ldquo;shake&rdquo; to the action.</p></li><li><p>Assign the &ldquo;space&rdquo; key to the &ldquo;shake&rdquo; action.<br><img alt="Inputmap - action - shake" loading=lazy src=/images/tutorials/gd0014_screen_shake/img3.png></p></li></ol><br><h3 id=downloading-and-importing-assets>Downloading and importing assets</h3><p>Next, let&rsquo;s download assets from KENNEY&rsquo;s site and use them. This time, we will use an asset pack called &ldquo;<a href=https://www.kenney.nl/assets/tiny-dungeon target=_blank>Tiny Dungeon</a>
&rdquo;. I will use the tileset included in this asset. I can&rsquo;t help but be grateful for this wonderful free material.</p><p>Once downloaded, drag &ldquo;/kenney_tinydungeon/Tilemap/tilemap_packed.png&rdquo; to the file system dock and import it into your project.</p><p>Immediately after importing the file, the image will look blurry, so correct this by following the steps below.</p><ol><li>Make the imported asset file selected in the file system dock</li><li>Select &ldquo;Preset&rdquo; > &ldquo;2D Pixel&rdquo; in the import dock.<br><img alt="select 2D Pixel" loading=lazy src=/images/tutorials/gd0014_screen_shake/img4.png></li><li>Click the &ldquo;Reimport&rdquo; button at the bottom.<br><img alt="click reinport" loading=lazy src=/images/tutorials/gd0014_screen_shake/img5.png></li></ol><p>The image should now have the edges characteristic of pixel art. The imported tileset will be used later when creating the tile map.</p><p>Translated with <a href=https://www.DeepL.com/Translator target=_blank>www.DeepL.com/Translator</a>
(free version)</p><br><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4952908839423901" crossorigin=anonymous></script><p><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-4952908839423901 data-ad-slot=9419515863></ins></p><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><hr><h2 id=creating-camera-scene>Creating Camera scene</h2><h3 id=creating-a-new-scene>Creating a new scene</h3><p>First, let&rsquo;s create a <strong>Camera</strong> scene.</p><ol><li><p>Select &ldquo;Scene&rdquo; menu > &ldquo;New Scene&rdquo;.</p></li><li><p>Select the &ldquo;Camera2D&rdquo; class node as root node and rename it to &ldquo;Camera&rdquo;.</p></li><li><p>Save the scene at this point. Create a folder and save the scene with the file path &ldquo;res://Camera/Camera.tscn&rdquo;.</p></li><li><p>The scene tree has no child nodes, so the scene dock should have only the &ldquo;Camera&rdquo; node as follows.<br><img alt="Camera scene dock" loading=lazy src=/images/tutorials/gd0014_screen_shake/img6.png></p></li></ol><br><h3 id=editing-the-properties-of-the-camera-node>Editing the properties of the Camera node</h3><p>Continue to make the following edits in the inspector:</p><ol><li>Set the &ldquo;Current&rdquo; property to <strong>On</strong>.<br><img alt="Camera - current property" loading=lazy src=/images/tutorials/gd0014_screen_shake/img7.png></li><li>Set the &ldquo;Limit&rdquo; property to the display size.<br><img alt="Camera - limit property" loading=lazy src=/images/tutorials/gd0014_screen_shake/img8.png></li></ol><br><h3 id=attaching-and-editing-a-script-to-a-camera-node>Attaching and editing a script to a Camera node.</h3><p>Attach a new script to the <strong>Camera</strong> node. Create a script file with the file path &ldquo;res://Camera/Camera.tscn&rdquo;.</p><p>This time, we will implement two types of shaking: &ldquo;rough shake&rdquo; and &ldquo;smooth shake&rdquo;. First, let&rsquo;s start with &ldquo;rough shake&rdquo; whose code is relatively simple.</p><p>The script should contain the following code.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-GDScript data-lang=GDScript><span class=line><span class=cl><span class=c1>###Camera.gd###</span>
</span></span><span class=line><span class=cl><span class=kd>extends</span> <span class=nc>Camera2D</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Shaking intensity (from 0.0 to 1.0)</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=n>trauma</span> <span class=o>=</span> <span class=mf>0.0</span>
</span></span><span class=line><span class=cl><span class=c1># Exponent for power of shaking strength</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=n>trauma_power</span> <span class=o>=</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=c1># Put the shaking strength trauma as a power exponent trauma_power</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=n>amount</span> <span class=o>=</span> <span class=mf>0.0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Shaking intensity that decays in 1 second</span>
</span></span><span class=line><span class=cl><span class=c1># Note that if it is less than 0.0, the shaking will last forever</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=n>decay</span> <span class=o>=</span> <span class=mf>0.8</span>
</span></span><span class=line><span class=cl><span class=c1># Maximum shaking width</span>
</span></span><span class=line><span class=cl><span class=c1># Hold each value in x-axis direction and y-axis direction as one data in Vector2 type</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=n>max_offset</span> <span class=o>=</span> <span class=nc>Vector2</span><span class=p>(</span><span class=mi>36</span><span class=p>,</span> <span class=mi>64</span><span class=p>)</span> <span class=c1># display ratio is 16 : 9</span>
</span></span><span class=line><span class=cl><span class=c1># Maximum angle of rotation (in radians)</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=n>max_roll</span> <span class=o>=</span> <span class=mf>0.1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Built-in function called first when node is loaded</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>_ready</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=c1># Randomize seed values for functions that return random values</span>
</span></span><span class=line><span class=cl>    <span class=c1># Required since the same seed value will result in the same number of values obtained</span>
</span></span><span class=line><span class=cl>	<span class=nb>randomize</span><span class=p>()</span><span class=o>.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Built-in process function called every frame</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>_process</span><span class=p>(</span><span class=n>delta</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># If trauma is greater than 0</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=n>trauma</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># Decay the intensity of the shaking</span>
</span></span><span class=line><span class=cl>		<span class=n>trauma</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>trauma</span> <span class=o>-</span> <span class=n>decay</span> <span class=o>*</span> <span class=n>delta</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># Call a method to set the shaking width and rotation angle for rough shake</span>
</span></span><span class=line><span class=cl>        <span class=c1># Call this method every frame to express screen shake</span>
</span></span><span class=line><span class=cl>        <span class=nf>rough_shake</span><span class=p>()</span> <span class=c1># Define after this</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Method to set the shake width and rotation angle of rough shake</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>rough_shake</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=c1># Amount is a cumulative value of the shaking intensity</span>
</span></span><span class=line><span class=cl>    <span class=c1># pow() function raises the first argument to the power of the second argument as an exponent</span>
</span></span><span class=line><span class=cl>    <span class=c1># The closer the intensity of the shaking to 0, the smaller the value becomes when powered</span>
</span></span><span class=line><span class=cl>    <span class=c1># Example: 1.0 * 1.0 = 1.0, 0.5 * 0.5 = 0.25, 0.1 * 0.1 = 0.01</span>
</span></span><span class=line><span class=cl>	<span class=n>amount</span> <span class=o>=</span> <span class=nb>pow</span><span class=p>(</span><span class=n>trauma</span><span class=p>,</span> <span class=n>trauma_power</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1># rotation angle = max_roll * amount * trauma power * random value from -1 to 1</span>
</span></span><span class=line><span class=cl>	<span class=n>rotation</span> <span class=o>=</span> <span class=n>max_roll</span> <span class=o>*</span> <span class=n>amount</span> <span class=o>*</span> <span class=nf>rand_range</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1># x-axis swing width = maximum swing width in x-axis direction * swing strength multiplied by power * random value between -1 and 1</span>
</span></span><span class=line><span class=cl>	<span class=n>offset</span><span class=o>.</span><span class=n>x</span> <span class=o>=</span> <span class=n>max_offset</span><span class=o>.</span><span class=n>x</span> <span class=o>*</span> <span class=n>amount</span> <span class=o>*</span> <span class=nf>rand_range</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1># y-axis amplitude = max_offset.x * amount * rand_range(-1, 1) * random value between -1 and 1</span>
</span></span><span class=line><span class=cl>	<span class=n>offset</span><span class=o>.</span><span class=n>y</span> <span class=o>=</span> <span class=n>max_offset</span><span class=o>.</span><span class=n>y</span> <span class=o>*</span> <span class=n>amount</span> <span class=o>*</span> <span class=nf>rand_range</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Methods to set trauma</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>set_shake</span><span class=p>(</span><span class=n>add_trauma</span> <span class=o>=</span> <span class=mf>0.5</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># Add the value of the argument add_trauma to the current trauma value</span>
</span></span><span class=line><span class=cl>    <span class=c1># Set trauma to 1.0 if it is greater than or equal to 1.0</span>
</span></span><span class=line><span class=cl>	<span class=n>trauma</span> <span class=o>=</span> <span class=nb>min</span><span class=p>(</span><span class=n>trauma</span> <span class=o>+</span> <span class=n>add_trauma</span><span class=p>,</span> <span class=mf>1.0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Built-in functions to handle input</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>_unhandled_input</span><span class=p>(</span><span class=n>event</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># If we press the action &#34;shake&#34; key on the input map</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=n>event</span><span class=o>.</span><span class=nf>is_action_pressed</span><span class=p>(</span><span class=s2>&#34;shake&#34;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>		<span class=c1># Call a method to set trauma</span>
</span></span><span class=line><span class=cl>        <span class=nf>set_shake</span><span class=p>()</span>
</span></span></code></pre></div><br><p>The &ldquo;rough screen shake&rdquo; script is now complete.</p><br><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4952908839423901" crossorigin=anonymous></script><p><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-4952908839423901 data-ad-slot=9419515863></ins></p><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><hr><h2 id=creating-world-scene>Creating World scene</h2><h3 id=world-create-a-new-scene-and-add-the-necessary-nodes>World Create a new scene and add the necessary nodes.</h3><p>The <strong>Camera</strong> scene alone does not show the shaking because there is no image. To check the shaking, we will create a <strong>World</strong> scene and prepare an instance of the <strong>Camera</strong> scene and a node that will serve as the background.</p><ol><li>Select &ldquo;Scene&rdquo; menu > &ldquo;New Scene&rdquo;.</li><li>Select &ldquo;Node2D&rdquo; as the root node and rename it to &ldquo;World&rdquo;.</li><li>Save the scene with the file path &ldquo;res://World/World.tscn&rdquo;.<br><br></li></ol><p>Then add nodes so that the World scene becomes the following scene tree.</p><ul><li>World (Node2D)<ul><li>Camera (Camera2D„ÄÅinstance of Camera scene)</li><li>TileMap</li></ul></li></ul><p><img alt="World scene tree" loading=lazy src=/images/tutorials/gd0014_screen_shake/img9.png></p><br><h3 id=editing-the-tilemap-node>Editing the TileMap node</h3><p>Let&rsquo;s quickly create a tile map for the background.</p><ol><li>Apply a new tileset resource to the &ldquo;Tile Set&rdquo; property of the &ldquo;TileMap&rdquo; node.<br><img alt="TileMap - tile_set" loading=lazy src=/images/tutorials/gd0014_screen_shake/img10.png></li><li>Open the Tile Set panel, drag the &ldquo;res://Assets/tilemap_packed.png&rdquo; resource file downloaded from KENNEY to the left side, and set tiles appropriately with a single tile or atlas.<br><img alt="TileSet pannel" loading=lazy src=/images/tutorials/gd0014_screen_shake/img11.png></li><li>Select &ldquo;TileMap&rdquo; in the scene dock to create a tile map. The area should slightly exceed the display size.<br><img alt="TileSet pannel" loading=lazy src=/images/tutorials/gd0014_screen_shake/img12.png></li></ol><br><h3 id=testing-rough-shake>Testing &ldquo;rough shake&rdquo;</h3><p>Finally, run the project to test the &ldquo;rough shake&rdquo;. If you are running the project for the first time, select &ldquo;World.tscn&rdquo; as the main scene of the project.</p><p>Press the space key to shake the screen. Wait a little and press it, or press it continuously without a pause to check the behavior.</p><p><div><video controls autoplay loop muted playsinline aria-label='Run project - sharp shake' style=zgotmplz>
<source src=/images/tutorials/gd0014_screen_shake/img13.mp4 type=video/mp4>Your browser does not support the video tag.</video></div><br><br></p><p>There is no particular discomfort, and it looks reasonably good. However, compared to the smooth shake that will be implemented later, it should look a bit rough.</p><br><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4952908839423901" crossorigin=anonymous></script><p><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-4952908839423901 data-ad-slot=9419515863></ins></p><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><hr><h2 id=adding-smooth-shake-code-to-the-script-for-the-camera-node>Adding &ldquo;smooth shake&rdquo; code to the script for the Camera node</h2><p>From here, we will implement the &ldquo;smooth shake&rdquo;. Return to the <strong>Camera</strong> scene and add the code to the attached &ldquo;Camera.gd&rdquo; script.</p><p>smooth shake uses the following image called noise.<br><img alt=OpenSimplexNoise loading=lazy src=/images/tutorials/gd0014_screen_shake/img14.png><img alt=OpenSimplexNoise loading=lazy src=/images/tutorials/gd0014_screen_shake/img15.png></p><p>The noise image has a random distribution of white, gray, and black. The noise value varies from -1 to 1, with -1 for black, 1 for white, and 0 for intermediate gray. The idea is to specify the coordinates of a pixel on the noise, get the noise value of that pixel, and apply it to screen shake.</p><p>Godot provides a class (resource) called <strong>OpenSimplexNoise</strong>. You can create a new class in your script and use the <code>get_noise_2d</code> method, which is built into the class of this resource, to obtain the noise value at the specified coordinates by passing x-coordinate and y-coordinate as arguments. This time, the x-coordinate passed as the argument is specified randomly, the y-coordinate is shifted by 1 pixel, the noise value is obtained, and it is multiplied by the calculation of the shaking width to reproduce smooth shake.</p><p>By the way, you may intuitively understand how the noise changes when you change some parameters that compose the noise by trying various things on the following demo page using Godot&rsquo;s OpenSimplexNoise.</p><blockquote><p><strong><span style=color:salmon>Reference</span></strong><br><em><a href=https://vitalify.jp/blog/2019/06/randomize.html target=_blank>OpenSimplexNoise Viewer</a></em></p></blockquote><p>The noise may seem a bit complicated, but let&rsquo;s write a script for a start. In addition, we will make it possible to switch between &ldquo;rough shake&rdquo; and &ldquo;smooth shake&rdquo;.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-GDScript data-lang=GDScript><span class=line><span class=cl><span class=c1>###Camera.gd###</span>
</span></span><span class=line><span class=cl><span class=kd>extends</span> <span class=nc>Camera2D</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Define the type of screen shake with enum</span>
</span></span><span class=line><span class=cl><span class=kd>enum</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=n>ROUGH</span><span class=p>,</span> <span class=c1># for rough shake</span>
</span></span><span class=line><span class=cl>	<span class=n>SMOOTH</span> <span class=c1># for smooth shake</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>## Common properties</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=n>type</span> <span class=o>=</span> <span class=n>ROUGH</span> <span class=c1># Type of screen shake (default is rough shake)</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=n>trauma</span> <span class=o>=</span> <span class=mf>0.0</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=n>trauma_power</span> <span class=o>=</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=n>amount</span> <span class=o>=</span> <span class=mf>0.0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>## rough shake properties</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=n>decay</span> <span class=o>=</span> <span class=mf>0.8</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=n>max_offset</span> <span class=o>=</span> <span class=nc>Vector2</span><span class=p>(</span><span class=mi>36</span><span class=p>,</span> <span class=mi>64</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=n>max_roll</span> <span class=o>=</span> <span class=mf>0.1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>## smooth shake property</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=n>noise_y</span> <span class=o>=</span> <span class=mi>0</span> <span class=c1># y-coordinate of noise</span>
</span></span><span class=line><span class=cl><span class=n>onready</span> <span class=kd>var</span> <span class=n>noise</span> <span class=o>=</span> <span class=n>OpenSimplexNoise</span><span class=o>.</span><span class=nf>new</span><span class=p>()</span> <span class=c1># Instance of noise</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>_ready</span><span class=p>():</span>
</span></span><span class=line><span class=cl>	<span class=nb>randomize</span><span class=p>()</span><span class=o>.</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>    <span class=c1>## Use following 3 variables for smooth shake</span>
</span></span><span class=line><span class=cl>	<span class=c1># Value that determines the noise&#39;s unique random appearance (assign a random integer)</span>
</span></span><span class=line><span class=cl>    <span class=c1># If the seed value changes, the placement of the white to black dots in the noise will also change</span>
</span></span><span class=line><span class=cl>	<span class=n>noise</span><span class=o>.</span><span class=nb>seed</span> <span class=o>=</span> <span class=nb>randi</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=c1># Number of layers to create noise (in this case 2)</span>
</span></span><span class=line><span class=cl>    <span class=c1># The higher the value, the more layers of gray between black and white, the more detailed the noise</span>
</span></span><span class=line><span class=cl>	<span class=n>noise</span><span class=o>.</span><span class=n>octaves</span> <span class=o>=</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl>    <span class=c1># Period of the noise (let&#39;s say 4)</span>
</span></span><span class=line><span class=cl>    <span class=c1># The smaller the value, the higher the noise frequency</span>
</span></span><span class=line><span class=cl>	<span class=n>noise</span><span class=o>.</span><span class=n>period</span> <span class=o>=</span> <span class=mi>4</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>_process</span><span class=p>(</span><span class=n>delta</span><span class=p>):</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=n>trauma</span><span class=p>:</span>
</span></span><span class=line><span class=cl>		<span class=n>trauma</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>trauma</span> <span class=o>-</span> <span class=n>decay</span> <span class=o>*</span> <span class=n>delta</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># If the type is rough shake</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=n>type</span> <span class=o>==</span> <span class=n>ROUGH</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1># Call methods to set the shake width and rotation angle for rough shake</span>
</span></span><span class=line><span class=cl>			<span class=nf>rough_shake</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=c1># If the type is smooth shake</span>
</span></span><span class=line><span class=cl>		<span class=k>elif</span> <span class=n>type</span> <span class=o>==</span> <span class=n>SMOOTH</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1># Call methods to set the shake width and rotation angle for smooth shake</span>
</span></span><span class=line><span class=cl>			<span class=nf>smooth_shake</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>rough_shake</span><span class=p>():</span>
</span></span><span class=line><span class=cl>	<span class=n>amount</span> <span class=o>=</span> <span class=nb>pow</span><span class=p>(</span><span class=n>trauma</span><span class=p>,</span> <span class=n>trauma_power</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=n>rotation</span> <span class=o>=</span> <span class=n>max_roll</span> <span class=o>*</span> <span class=n>amount</span> <span class=o>*</span> <span class=nf>rand_range</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=n>offset</span><span class=o>.</span><span class=n>x</span> <span class=o>=</span> <span class=n>max_offset</span><span class=o>.</span><span class=n>x</span> <span class=o>*</span> <span class=n>amount</span> <span class=o>*</span> <span class=nf>rand_range</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=n>offset</span><span class=o>.</span><span class=n>y</span> <span class=o>=</span> <span class=n>max_offset</span><span class=o>.</span><span class=n>y</span> <span class=o>*</span> <span class=n>amount</span> <span class=o>*</span> <span class=nf>rand_range</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Methods to set the shaking width and rotation angle for smooth shake</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>smooth_shake</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=c1># Amount is the trauma multiplied by a power</span>
</span></span><span class=line><span class=cl>	<span class=n>amount</span> <span class=o>=</span> <span class=nb>pow</span><span class=p>(</span><span class=n>trauma</span><span class=p>,</span> <span class=n>trauma_power</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1># Increase the y-coordinate of the noise by 1 pixel</span>
</span></span><span class=line><span class=cl>	<span class=n>noise_y</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=c1># Get a random rotation angle using the noise value obtained from the noise seed value as x-coordinate</span>
</span></span><span class=line><span class=cl>	<span class=n>rotation</span> <span class=o>=</span> <span class=n>max_roll</span> <span class=o>*</span> <span class=n>amount</span> <span class=o>*</span> <span class=n>noise</span><span class=o>.</span><span class=nf>get_noise_2d</span><span class=p>(</span><span class=n>noise</span><span class=o>.</span><span class=nb>seed</span><span class=p>,</span> <span class=n>noise_y</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1># Get a random x-axis swing width using the noise value obtained by multiplying the noise seed value √ó 2 by the x-coordinate</span>
</span></span><span class=line><span class=cl>    <span class=c1># 2 multiplied by the seed value is an appropriate number to get a noise value different from the rotation angle or y-axis swing width</span>
</span></span><span class=line><span class=cl>	<span class=n>offset</span><span class=o>.</span><span class=n>x</span> <span class=o>=</span> <span class=n>max_offset</span><span class=o>.</span><span class=n>x</span> <span class=o>*</span> <span class=n>amount</span> <span class=o>*</span> <span class=n>noise</span><span class=o>.</span><span class=nf>get_noise_2d</span><span class=p>(</span><span class=n>noise</span><span class=o>.</span><span class=nb>seed</span> <span class=o>*</span> <span class=mi>2</span><span class=p>,</span> <span class=n>noise_y</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1># Get random y-axis shaking width using noise seed value x 3 obtained as x-coordinate</span>
</span></span><span class=line><span class=cl>    <span class=c1># 3 multiplied by the seed value is an appropriate number to get a noise value that is different from the rotation angle and the x-axis wobble width</span>
</span></span><span class=line><span class=cl>	<span class=n>offset</span><span class=o>.</span><span class=n>y</span> <span class=o>=</span> <span class=n>max_offset</span><span class=o>.</span><span class=n>y</span> <span class=o>*</span> <span class=n>amount</span> <span class=o>*</span> <span class=n>noise</span><span class=o>.</span><span class=nf>get_noise_2d</span><span class=p>(</span><span class=n>noise</span><span class=o>.</span><span class=nb>seed</span> <span class=o>*</span> <span class=mi>3</span><span class=p>,</span> <span class=n>noise_y</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>set_shake</span><span class=p>(</span><span class=n>add_trauma</span> <span class=o>=</span> <span class=mf>0.5</span><span class=p>):</span>
</span></span><span class=line><span class=cl>	<span class=n>trauma</span> <span class=o>=</span> <span class=nb>min</span><span class=p>(</span><span class=n>trauma</span> <span class=o>+</span> <span class=n>add_trauma</span><span class=p>,</span> <span class=mf>1.0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>_unhandled_input</span><span class=p>(</span><span class=n>event</span><span class=p>):</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=n>event</span><span class=o>.</span><span class=nf>is_action_pressed</span><span class=p>(</span><span class=s2>&#34;shake&#34;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>		<span class=nf>set_shake</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=c1># Toggle screen shake type when right or left arrow key is pressed</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=n>event</span><span class=o>.</span><span class=nf>is_action_pressed</span><span class=p>(</span><span class=s2>&#34;ui_right&#34;</span><span class=p>)</span>\
</span></span><span class=line><span class=cl>	<span class=ow>or</span> <span class=n>event</span><span class=o>.</span><span class=nf>is_action_pressed</span><span class=p>(</span><span class=s2>&#34;ui_left&#34;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># if the current screen shake type is rough shake</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=n>type</span> <span class=o>==</span> <span class=n>ROUGH</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1># change to smooth shake</span>
</span></span><span class=line><span class=cl>			<span class=n>type</span> <span class=o>=</span> <span class=n>SMOOTH</span>
</span></span><span class=line><span class=cl>        <span class=c1># if current screen shake type is smooth shake</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1># change to rough shake setting</span>
</span></span><span class=line><span class=cl>			<span class=n>type</span> <span class=o>=</span> <span class=n>ROUGH</span>
</span></span></code></pre></div><br><h3 id=adding-nodes-to-the-world-scene>Adding nodes to the World scene</h3><p>Add a &ldquo;CanvasLayer&rdquo; node and its child &ldquo;Label&rdquo; node to the World scene tree to make it easier to see which type of screen shake is being used on the screen. The name of the &ldquo;Label&rdquo; node is &ldquo;TypeLabel&rdquo;.<br><img alt="World scene tree" loading=lazy src=/images/tutorials/gd0014_screen_shake/img17.png></p><p>With the &ldquo;TypeLabel&rdquo; node selected, enter &ldquo;ROUGH&rdquo; as the initial value for the &ldquo;Text&rdquo; property in the inspector.<br><img alt="TypeLabel - Text property" loading=lazy src=/images/tutorials/gd0014_screen_shake/img18.png></p><p>In the &ldquo;Theme Overrides&rdquo; > &ldquo;Color&rdquo; > &ldquo;Font Color&rdquo; property, set the font color to #000000 (black).<br><img alt="TypeLabel = Color" loading=lazy src=/images/tutorials/gd0014_screen_shake/img19.png></p><p>Select &ldquo;Center&rdquo; from the &ldquo;Layout&rdquo; on the 2D workspace toolbar and center the &ldquo;TypeLabel&rdquo; node.<br><img alt="2D Workspace - Layout - Center" loading=lazy src=/images/tutorials/gd0014_screen_shake/img20.png></p><p>Attach the script to the &ldquo;World&rdquo; root node and save the file path as &ldquo;res://World/World.gd&rdquo;. In the script, write the following code for the operation to switch the type of screen shake.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-GDScript data-lang=GDScript><span class=line><span class=cl><span class=c1>###World.gd###</span>
</span></span><span class=line><span class=cl><span class=n>onready</span> <span class=kd>var</span> <span class=n>type_label</span> <span class=o>=</span> <span class=nx>$CanvasLayer/TypeLabel</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>_unhandled_input</span><span class=p>(</span><span class=n>event</span><span class=p>):</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=n>event</span><span class=o>.</span><span class=nf>is_action_pressed</span><span class=p>(</span><span class=s2>&#34;ui_right&#34;</span><span class=p>)</span>\
</span></span><span class=line><span class=cl>	<span class=ow>or</span> <span class=n>event</span><span class=o>.</span><span class=nf>is_action_pressed</span><span class=p>(</span><span class=s2>&#34;ui_left&#34;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=n>type_label</span><span class=o>.</span><span class=n>text</span> <span class=o>==</span> <span class=s2>&#34;ROUGH&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>			<span class=n>type_label</span><span class=o>.</span><span class=n>text</span> <span class=o>=</span> <span class=s2>&#34;SMOOTH&#34;</span>
</span></span><span class=line><span class=cl>		<span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>			<span class=n>type_label</span><span class=o>.</span><span class=n>text</span> <span class=o>=</span> <span class=s2>&#34;ROUGH&#34;</span>
</span></span></code></pre></div><p>The left and right arrow keys can now be used to switch between ROUGH (rough shake) and SMOOTH (smooth shake).</p><br><h3 id=test-smooth-shake-and-compare-with-rough-shake>Test &ldquo;smooth shake&rdquo; and compare with &ldquo;rough shake&rdquo;</h3><p>Finally, let&rsquo;s run the project again to check the behavior of the &ldquo;smooth shake&rdquo; and compare it with the &ldquo;rough shake&rdquo; while switching the shaking type.</p><p><div><video controls autoplay loop muted playsinline aria-label='Run project - sharp shake' style=zgotmplz>
<source src=/images/tutorials/gd0014_screen_shake/img21.mp4 type=video/mp4>Your browser does not support the video tag.</video></div><br><br></p><p>This completes the implementation of screen shake. I hope you could feel the difference. It may seem like a small difference, but if you are concerned about the presentation of the game, you will want to use the appropriate shaking for the scene.</p><br><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4952908839423901" crossorigin=anonymous></script><p><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-4952908839423901 data-ad-slot=9419515863></ins></p><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><hr><h2 id=sample-projects>Sample projects</h2><p>In addition, we have prepared a separate project that makes it easier to visually understand the state of screen shake. Please try it if you like.</p><p><div><video controls autoplay loop muted playsinline aria-label='Sample 1' style=zgotmplz>
<source src=/images/tutorials/gd0014_screen_shake/img22.mp4 type=video/mp4>Your browser does not support the video tag.</video></div><br><br></p><p>The sample project file is located in the <a href=https://github.com/msnsk/ScreenShake2D.git target=_blank>GitHub repository</a>
. Please download the .zip file from there. You can check it by importing the &ldquo;project.godot&rdquo; file in the &ldquo;Sample&rdquo; folder with the Godot Engine.<br><br></p><p>The specifications of the sample project are as follows.</p><ul><li>Gauge <code>amount</code> and <code>trauma</code> properties.</li><li>Add a character that can be moved up, down, left, or right by keyboard operation.<ul><li>D key: right</li><li>A key: left</li><li>W key: Up</li><li>S key: Down</li></ul></li><li>Adding multiple spikes on the ground that cause the screen to shake when a character steps on them.</li><li>Adding a value to the <code>trauma</code> is increased by 0.1 with the up arrow key and decreased by 0.1 with the down arrow key (maximum 1.0, minimum 0.0).</li><li>Display &ldquo;ROUGH&rdquo; and &ldquo;SMOOTH&rdquo; shaking types in the upper left corner.</li><li>Use the left and right arrow keys to toggle between &ldquo;ROUGH&rdquo; and &ldquo;SMOOTH&rdquo; shaking.</li><li>Space key also generates screen shake.</li></ul><br><hr><h2 id=conclusion>Conclusion</h2><p>In this article, we introduced the implementation of screen shake in 2D. Although the game genre and scene may vary, there will be many opportunities to apply screen shake. If you understand how to change the parameters that constitute screen shake, you should be able to express screen shake in a way that best suits the purpose of use.</p><br><hr><h2 id=references>References</h2><ul><li><a href=https://www.kenney.nl/assets target=_blank>KENNEY - Assets</a></li><li><a href=https://godotengine.github.io/godot-demo-projects/misc/opensimplexnoise/ target=_blank>Godot demo projects - OpenSimplexNoise</a></li><li><a href=https://kidscancode.org/godot_recipes/2d/screen_shake/ target=_blank>KidsCanCode: SCREEN SHAKE</a></li><li><a href=https://youtu.be/tu-Qe66AvtY target=_blank>YouTube: Math for Game Programmers: Juicing Your Cameras With Math</a></li><li><a href=https://youtu.be/AobjNjzZhmo target=_blank>YouTube: Godot Game Juice Tutorial 1: Camera Shake and Frame Freeze</a></li><li><a href=https://www.codingkaiju.com/tutorials/screen-shake-in-godot-the-best-way/ target=_blank>Coding Kaiju - Screen Shake in Godot: The Best Way</a></li></ul><br><hr><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4952908839423901" crossorigin=anonymous></script><p><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-4952908839423901 data-ad-slot=9419515863></ins></p><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><footer class=post-footer><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share ü§ñ 2D Screen Shake in Godot3 on x" href="https://x.com/intent/tweet/?text=%f0%9f%a4%96%202D%20Screen%20Shake%20in%20Godot3&amp;url=https%3a%2f%2fwww.peanuts-code.com%2fen%2ftutorials%2fgd0014_screen_shake%2f&amp;hashtags=GameDev%2cGodotEngine%2c2D%2cScreenShake"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share ü§ñ 2D Screen Shake in Godot3 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fwww.peanuts-code.com%2fen%2ftutorials%2fgd0014_screen_shake%2f&title=%f0%9f%a4%96%202D%20Screen%20Shake%20in%20Godot3"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share ü§ñ 2D Screen Shake in Godot3 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.peanuts-code.com%2fen%2ftutorials%2fgd0014_screen_shake%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li></ul><ul class=post-tags><li><a href=https://www.peanuts-code.com/en/tags/gamedev/>GameDev</a></li><li><a href=https://www.peanuts-code.com/en/tags/godotengine/>GodotEngine</a></li><li><a href=https://www.peanuts-code.com/en/tags/2d/>2D</a></li><li><a href=https://www.peanuts-code.com/en/tags/screenshake/>ScreenShake</a></li></ul><nav class=paginav><a class=prev href=https://www.peanuts-code.com/en/tutorials/gd0015_circular_progress_bar/><span class=title>¬´ Prev</span><br><span>ü§ñ Circular Progress Bar in Godot3</span>
</a><a class=next href=https://www.peanuts-code.com/en/tutorials/gd0013_advanced_match3/><span class=title>Next ¬ª</span><br><span>ü§ñ Advanced Match 3 Puzzle Game in Godot3</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://www.peanuts-code.com/en/>Peanuts Code</a></span> ¬∑
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>